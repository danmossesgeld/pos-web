import { c as create_ssr_component, f as add_attribute, e as escape } from "../../../../../chunks/ssr.js";
import "firebase/firestore";
import "feather-icons";
import "@ericblade/quagga2";
const css = {
  code: ".scanner-container.svelte-19bao7k{width:100%;background-color:black;border-radius:8px}",
  map: `{"version":3,"file":"+page.svelte","sources":["+page.svelte"],"sourcesContent":["<script lang=\\"ts\\">import { getFirestore, collection, addDoc } from \\"firebase/firestore\\";\\nimport feather from \\"feather-icons\\";\\nimport { onMount } from \\"svelte\\";\\nimport Quagga from \\"@ericblade/quagga2\\";\\nlet itemName = \\"\\", itemQuantity = \\"\\", itemPrice = \\"\\", pID = \\"\\", itemCost = \\"\\";\\nlet isLoading = false;\\nlet isScannerActive = false;\\nlet scannerInitialized = false;\\nonMount(() => {\\n  feather.replace();\\n});\\nconst startScanner = () => {\\n  if (!scannerInitialized) {\\n    isScannerActive = true;\\n    Quagga.init(\\n      {\\n        inputStream: {\\n          type: \\"LiveStream\\",\\n          target: document.querySelector(\\"#scanner-container\\") || void 0,\\n          constraints: {\\n            facingMode: \\"environment\\"\\n            // Use the back camera\\n          }\\n        },\\n        decoder: {\\n          readers: [\\"ean_reader\\"]\\n          // Set the barcode format\\n        }\\n      },\\n      (err) => {\\n        if (err) {\\n          console.error(\\"Quagga initialization failed:\\", err);\\n          alert(\\"Failed to initialize the scanner\\");\\n          return;\\n        }\\n        Quagga.start();\\n        scannerInitialized = true;\\n      }\\n    );\\n    Quagga.onDetected((data) => {\\n      const scannedBarcode = data.codeResult.code;\\n      if (scannedBarcode) {\\n        pID = scannedBarcode;\\n        isScannerActive = false;\\n        Quagga.stop();\\n      }\\n    });\\n  } else {\\n    isScannerActive = !isScannerActive;\\n  }\\n};\\nconst handleSubmit = async () => {\\n  isLoading = true;\\n  try {\\n    const db = getFirestore();\\n    const inventoryRef = collection(db, \\"Inventory\\");\\n    await addDoc(inventoryRef, {\\n      pID,\\n      name: itemName,\\n      srp: parseFloat(itemPrice),\\n      stocks: parseInt(itemQuantity),\\n      cost: parseFloat(itemCost)\\n      // Add cost field\\n    });\\n    itemName = itemQuantity = itemPrice = pID = itemCost = \\"\\";\\n    alert(\\"Item saved successfully!\\");\\n  } catch (error) {\\n    console.error(\\"Error adding item:\\", error);\\n    alert(\\"Save unsuccessful. Please try again.\\");\\n  } finally {\\n    isLoading = false;\\n  }\\n};\\n<\/script>\\r\\n\\r\\n<!-- Main container for the form -->\\r\\n<div class=\\"flex justify-center items-center h-screen bg-gray-100\\">\\r\\n  <div class=\\"bg-white shadow-lg rounded-lg p-6 w-full max-w-sm\\">\\r\\n    <!-- Form header -->\\r\\n    <h2 class=\\"text-xl font-bold text-gray-700 text-center mb-6\\">ADD NEW ITEM</h2>\\r\\n    <!-- Form element -->\\r\\n    <form class=\\"space-y-4\\" on:submit|preventDefault={handleSubmit}>\\r\\n      <!-- Item ID input group -->\\r\\n      <div class=\\"flex items-center\\">\\r\\n        <i data-feather=\\"hash\\" class=\\"mr-2 text-gray-400\\"></i>\\r\\n        <input\\r\\n          type=\\"text\\"\\r\\n          id=\\"pID\\"\\r\\n          bind:value={pID}\\r\\n          class=\\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\\"\\r\\n          placeholder=\\"Enter product ID\\"\\r\\n          required\\r\\n        />\\r\\n      </div>\\r\\n\\r\\n      <!-- Button to trigger barcode scanner -->\\r\\n      <button\\r\\n        type=\\"button\\"\\r\\n        class=\\"w-full p-2 mt-2 bg-blue-500 text-white rounded-md focus:outline-none hover:bg-blue-600\\"\\r\\n        on:click={startScanner}\\r\\n      >\\r\\n        Open Camera Barcode Scanner\\r\\n      </button>\\r\\n\\r\\n      {#if isScannerActive}\\r\\n        <!-- Scanner Container -->\\r\\n        <div id=\\"scanner-container\\" class=\\"scanner-container mt-4\\" style=\\"height: 300px;\\">\\r\\n          <!-- Video feed from the scanner -->\\r\\n        </div>\\r\\n      {/if}\\r\\n\\r\\n      <!-- Item name input group -->\\r\\n      <div class=\\"flex items-center\\">\\r\\n        <i data-feather=\\"tag\\" class=\\"mr-2 text-gray-400\\"></i>\\r\\n        <input\\r\\n          type=\\"text\\"\\r\\n          id=\\"itemName\\"\\r\\n          bind:value={itemName}\\r\\n          class=\\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\\"\\r\\n          placeholder=\\"Enter item name\\"\\r\\n          required\\r\\n        />\\r\\n      </div>\\r\\n\\r\\n      <!-- Item quantity input group -->\\r\\n      <div class=\\"flex items-center\\">\\r\\n        <i data-feather=\\"layers\\" class=\\"mr-2 text-gray-400\\"></i>\\r\\n        <input\\r\\n          type=\\"number\\"\\r\\n          id=\\"itemQuantity\\"\\r\\n          bind:value={itemQuantity}\\r\\n          class=\\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\\"\\r\\n          placeholder=\\"Enter quantity\\"\\r\\n          required\\r\\n        />\\r\\n      </div>\\r\\n\\r\\n      <!-- Item price input group -->\\r\\n      <div class=\\"flex items-center\\">\\r\\n        <i data-feather=\\"dollar-sign\\" class=\\"mr-2 text-gray-400\\"></i>\\r\\n        <input\\r\\n          type=\\"number\\"\\r\\n          id=\\"itemPrice\\"\\r\\n          bind:value={itemPrice}\\r\\n          class=\\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\\"\\r\\n          placeholder=\\"Enter price\\"\\r\\n          required\\r\\n        />\\r\\n      </div>\\r\\n\\r\\n      <!-- Item cost input group -->\\r\\n      <div class=\\"flex items-center\\">\\r\\n        <i data-feather=\\"dollar-sign\\" class=\\"mr-2 text-gray-400\\"></i>\\r\\n        <input\\r\\n          type=\\"number\\"\\r\\n          id=\\"itemCost\\"\\r\\n          bind:value={itemCost}\\r\\n          class=\\"w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\\"\\r\\n          placeholder=\\"Enter cost\\"\\r\\n          required\\r\\n        />\\r\\n      </div>\\r\\n\\r\\n      <!-- Submit button with loading animation -->\\r\\n      <button\\r\\n        type=\\"submit\\"\\r\\n        class=\\"submit-button flex items-center justify-center\\"\\r\\n      >\\r\\n        {#if isLoading}\\r\\n          <div class=\\"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white\\"></div>\\r\\n        {:else}\\r\\n          <i data-feather=\\"save\\" class=\\"mr-2\\"></i> <!-- Save icon for submission -->\\r\\n        {/if}\\r\\n        <span class=\\"ml-2 text-center\\">{isLoading ? 'Saving...' : 'Save Item'}</span> <!-- Centered text -->\\r\\n      </button>\\r\\n    </form>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<style>\\r\\n  .scanner-container {\\r\\n    width: 100%;\\r\\n    background-color: black;\\r\\n    border-radius: 8px;\\r\\n  }\\r\\n</style>\\r\\n"],"names":[],"mappings":"AAoLE,iCAAmB,CACjB,KAAK,CAAE,IAAI,CACX,gBAAgB,CAAE,KAAK,CACvB,aAAa,CAAE,GACjB"}`
};
const Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {
  let itemName = "", itemQuantity = "", itemPrice = "", pID = "", itemCost = "";
  $$result.css.add(css);
  return ` <div class="flex justify-center items-center h-screen bg-gray-100"><div class="bg-white shadow-lg rounded-lg p-6 w-full max-w-sm"> <h2 class="text-xl font-bold text-gray-700 text-center mb-6" data-svelte-h="svelte-1p182fe">ADD NEW ITEM</h2>  <form class="space-y-4"> <div class="flex items-center"><i data-feather="hash" class="mr-2 text-gray-400"></i> <input type="text" id="pID" class="w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter product ID" required${add_attribute("value", pID, 0)}></div>  <button type="button" class="w-full p-2 mt-2 bg-blue-500 text-white rounded-md focus:outline-none hover:bg-blue-600" data-svelte-h="svelte-5wgl1x">Open Camera Barcode Scanner</button> ${``}  <div class="flex items-center"><i data-feather="tag" class="mr-2 text-gray-400"></i> <input type="text" id="itemName" class="w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter item name" required${add_attribute("value", itemName, 0)}></div>  <div class="flex items-center"><i data-feather="layers" class="mr-2 text-gray-400"></i> <input type="number" id="itemQuantity" class="w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter quantity" required${add_attribute("value", itemQuantity, 0)}></div>  <div class="flex items-center"><i data-feather="dollar-sign" class="mr-2 text-gray-400"></i> <input type="number" id="itemPrice" class="w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter price" required${add_attribute("value", itemPrice, 0)}></div>  <div class="flex items-center"><i data-feather="dollar-sign" class="mr-2 text-gray-400"></i> <input type="number" id="itemCost" class="w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Enter cost" required${add_attribute("value", itemCost, 0)}></div>  <button type="submit" class="submit-button flex items-center justify-center">${`<i data-feather="save" class="mr-2"></i> `} <span class="ml-2 text-center">${escape("Save Item")}</span> </button></form></div> </div>`;
});
export {
  Page as default
};
