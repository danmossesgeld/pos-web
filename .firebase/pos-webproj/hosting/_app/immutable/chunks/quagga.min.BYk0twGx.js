import{g as pr}from"./_commonjsHelpers.Cpj98o6Y.js";var lr={exports:{}};(function(dr,gr){(function(i,w){dr.exports=w()})(window,function(){return function(i){var w={};function e(a){if(w[a])return w[a].exports;var u=w[a]={i:a,l:!1,exports:{}};return i[a].call(u.exports,u,u.exports,e),u.l=!0,u.exports}return e.m=i,e.c=w,e.d=function(a,u,s){e.o(a,u)||Object.defineProperty(a,u,{enumerable:!0,get:s})},e.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},e.t=function(a,u){if(1&u&&(a=e(a)),8&u||4&u&&typeof a=="object"&&a&&a.__esModule)return a;var s=Object.create(null);if(e.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:a}),2&u&&typeof a!="string")for(var f in a)e.d(s,f,(function(y){return a[y]}).bind(null,f));return s},e.n=function(a){var u=a&&a.__esModule?function(){return a.default}:function(){return a};return e.d(u,"a",u),u},e.o=function(a,u){return Object.prototype.hasOwnProperty.call(a,u)},e.p="/",e(e.s=73)}([function(i,w,e){var a=e(61);i.exports=function(u,s,f){return(s=a(s))in u?Object.defineProperty(u,s,{value:f,enumerable:!0,configurable:!0,writable:!0}):u[s]=f,u},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){function e(a){return i.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)},i.exports.__esModule=!0,i.exports.default=i.exports,e(a)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e,a){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(61);function u(s,f){for(var y=0;y<f.length;y++){var b=f[y];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(s,a(b.key),b)}}i.exports=function(s,f,y){return f&&u(s.prototype,f),y&&u(s,y),Object.defineProperty(s,"prototype",{writable:!1}),s},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){e.d(w,"a",function(){return a}),e.d(w,"b",function(){return u}),e.d(w,"c",function(){return s}),e.d(w,"d",function(){return f});var a={};e.r(a),e.d(a,"EPSILON",function(){return y}),e.d(a,"ARRAY_TYPE",function(){return b}),e.d(a,"RANDOM",function(){return M}),e.d(a,"setMatrixArrayType",function(){return C}),e.d(a,"toRadian",function(){return I}),e.d(a,"equals",function(){return Q});var u={};e.r(u),e.d(u,"create",function(){return ne}),e.d(u,"clone",function(){return J}),e.d(u,"copy",function(){return oe}),e.d(u,"identity",function(){return F}),e.d(u,"fromValues",function(){return D}),e.d(u,"set",function(){return A}),e.d(u,"transpose",function(){return O}),e.d(u,"invert",function(){return k}),e.d(u,"adjoint",function(){return L}),e.d(u,"determinant",function(){return P}),e.d(u,"multiply",function(){return X}),e.d(u,"rotate",function(){return T}),e.d(u,"scale",function(){return V}),e.d(u,"fromRotation",function(){return E}),e.d(u,"fromScaling",function(){return G}),e.d(u,"str",function(){return Z}),e.d(u,"frob",function(){return K}),e.d(u,"LDU",function(){return $}),e.d(u,"add",function(){return ae}),e.d(u,"subtract",function(){return ee}),e.d(u,"exactEquals",function(){return te}),e.d(u,"equals",function(){return fe}),e.d(u,"multiplyScalar",function(){return z}),e.d(u,"multiplyScalarAndAdd",function(){return U}),e.d(u,"mul",function(){return W}),e.d(u,"sub",function(){return ce});var s={};e.r(s),e.d(s,"create",function(){return ue}),e.d(s,"clone",function(){return he}),e.d(s,"fromValues",function(){return ge}),e.d(s,"copy",function(){return ye}),e.d(s,"set",function(){return xe}),e.d(s,"add",function(){return we}),e.d(s,"subtract",function(){return Me}),e.d(s,"multiply",function(){return Re}),e.d(s,"divide",function(){return tt}),e.d(s,"ceil",function(){return Dt}),e.d(s,"floor",function(){return rt}),e.d(s,"min",function(){return Fe}),e.d(s,"max",function(){return jt}),e.d(s,"round",function(){return It}),e.d(s,"scale",function(){return nt}),e.d(s,"scaleAndAdd",function(){return zt}),e.d(s,"distance",function(){return ot}),e.d(s,"squaredDistance",function(){return at}),e.d(s,"length",function(){return He}),e.d(s,"squaredLength",function(){return ut}),e.d(s,"negate",function(){return Xe}),e.d(s,"inverse",function(){return it}),e.d(s,"normalize",function(){return ct}),e.d(s,"dot",function(){return st}),e.d(s,"cross",function(){return Qe}),e.d(s,"lerp",function(){return Ut}),e.d(s,"random",function(){return Lt}),e.d(s,"transformMat2",function(){return ft}),e.d(s,"transformMat2d",function(){return Nt}),e.d(s,"transformMat3",function(){return lt}),e.d(s,"transformMat4",function(){return dt}),e.d(s,"rotate",function(){return ke}),e.d(s,"angle",function(){return Ft}),e.d(s,"zero",function(){return ht}),e.d(s,"str",function(){return Bt}),e.d(s,"exactEquals",function(){return Wt}),e.d(s,"equals",function(){return pt}),e.d(s,"len",function(){return vt}),e.d(s,"sub",function(){return qt}),e.d(s,"mul",function(){return gt}),e.d(s,"div",function(){return yt}),e.d(s,"dist",function(){return Vt}),e.d(s,"sqrDist",function(){return mt}),e.d(s,"sqrLen",function(){return Gt}),e.d(s,"forEach",function(){return xt});var f={};e.r(f),e.d(f,"create",function(){return Ie}),e.d(f,"clone",function(){return Be}),e.d(f,"length",function(){return Ye}),e.d(f,"fromValues",function(){return Ht}),e.d(f,"copy",function(){return _t}),e.d(f,"set",function(){return ze}),e.d(f,"add",function(){return $e}),e.d(f,"subtract",function(){return Pe}),e.d(f,"multiply",function(){return bt}),e.d(f,"divide",function(){return wt}),e.d(f,"ceil",function(){return Xt}),e.d(f,"floor",function(){return Qt}),e.d(f,"min",function(){return je}),e.d(f,"max",function(){return Ze}),e.d(f,"round",function(){return Ot}),e.d(f,"scale",function(){return Yt}),e.d(f,"scaleAndAdd",function(){return $t}),e.d(f,"distance",function(){return Rt}),e.d(f,"squaredDistance",function(){return Mt}),e.d(f,"squaredLength",function(){return Ke}),e.d(f,"negate",function(){return Zt}),e.d(f,"inverse",function(){return Kt}),e.d(f,"normalize",function(){return Ct}),e.d(f,"dot",function(){return Ue}),e.d(f,"cross",function(){return Le}),e.d(f,"lerp",function(){return We}),e.d(f,"hermite",function(){return Et}),e.d(f,"bezier",function(){return Jt}),e.d(f,"random",function(){return Ce}),e.d(f,"transformMat4",function(){return qe}),e.d(f,"transformMat3",function(){return At}),e.d(f,"transformQuat",function(){return er}),e.d(f,"rotateX",function(){return tr}),e.d(f,"rotateY",function(){return Ve}),e.d(f,"rotateZ",function(){return St}),e.d(f,"angle",function(){return rr}),e.d(f,"zero",function(){return nr}),e.d(f,"str",function(){return or}),e.d(f,"exactEquals",function(){return ar}),e.d(f,"equals",function(){return ur}),e.d(f,"sub",function(){return kt}),e.d(f,"mul",function(){return ir}),e.d(f,"div",function(){return cr}),e.d(f,"dist",function(){return Pt}),e.d(f,"sqrDist",function(){return sr}),e.d(f,"len",function(){return Je}),e.d(f,"sqrLen",function(){return fr}),e.d(f,"forEach",function(){return Tt});var y=1e-6,b=typeof Float32Array<"u"?Float32Array:Array,M=Math.random;function C(o){b=o}var B=Math.PI/180;function I(o){return o*B}function Q(o,d){return Math.abs(o-d)<=y*Math.max(1,Math.abs(o),Math.abs(d))}function ne(){var o=new b(4);return b!=Float32Array&&(o[1]=0,o[2]=0),o[0]=1,o[3]=1,o}function J(o){var d=new b(4);return d[0]=o[0],d[1]=o[1],d[2]=o[2],d[3]=o[3],d}function oe(o,d){return o[0]=d[0],o[1]=d[1],o[2]=d[2],o[3]=d[3],o}function F(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=1,o}function D(o,d,m,S){var j=new b(4);return j[0]=o,j[1]=d,j[2]=m,j[3]=S,j}function A(o,d,m,S,j){return o[0]=d,o[1]=m,o[2]=S,o[3]=j,o}function O(o,d){if(o===d){var m=d[1];o[1]=d[2],o[2]=m}else o[0]=d[0],o[1]=d[2],o[2]=d[1],o[3]=d[3];return o}function k(o,d){var m=d[0],S=d[1],j=d[2],q=d[3],re=m*q-j*S;return re?(re=1/re,o[0]=q*re,o[1]=-S*re,o[2]=-j*re,o[3]=m*re,o):null}function L(o,d){var m=d[0];return o[0]=d[3],o[1]=-d[1],o[2]=-d[2],o[3]=m,o}function P(o){return o[0]*o[3]-o[2]*o[1]}function X(o,d,m){var S=d[0],j=d[1],q=d[2],re=d[3],se=m[0],pe=m[1],_e=m[2],Oe=m[3];return o[0]=S*se+q*pe,o[1]=j*se+re*pe,o[2]=S*_e+q*Oe,o[3]=j*_e+re*Oe,o}function T(o,d,m){var S=d[0],j=d[1],q=d[2],re=d[3],se=Math.sin(m),pe=Math.cos(m);return o[0]=S*pe+q*se,o[1]=j*pe+re*se,o[2]=S*-se+q*pe,o[3]=j*-se+re*pe,o}function V(o,d,m){var S=d[0],j=d[1],q=d[2],re=d[3],se=m[0],pe=m[1];return o[0]=S*se,o[1]=j*se,o[2]=q*pe,o[3]=re*pe,o}function E(o,d){var m=Math.sin(d),S=Math.cos(d);return o[0]=S,o[1]=m,o[2]=-m,o[3]=S,o}function G(o,d){return o[0]=d[0],o[1]=0,o[2]=0,o[3]=d[1],o}function Z(o){return"mat2("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+")"}function K(o){return Math.hypot(o[0],o[1],o[2],o[3])}function $(o,d,m,S){return o[2]=S[2]/S[0],m[0]=S[0],m[1]=S[1],m[3]=S[3]-o[2]*m[1],[o,d,m]}function ae(o,d,m){return o[0]=d[0]+m[0],o[1]=d[1]+m[1],o[2]=d[2]+m[2],o[3]=d[3]+m[3],o}function ee(o,d,m){return o[0]=d[0]-m[0],o[1]=d[1]-m[1],o[2]=d[2]-m[2],o[3]=d[3]-m[3],o}function te(o,d){return o[0]===d[0]&&o[1]===d[1]&&o[2]===d[2]&&o[3]===d[3]}function fe(o,d){var m=o[0],S=o[1],j=o[2],q=o[3],re=d[0],se=d[1],pe=d[2],_e=d[3];return Math.abs(m-re)<=y*Math.max(1,Math.abs(m),Math.abs(re))&&Math.abs(S-se)<=y*Math.max(1,Math.abs(S),Math.abs(se))&&Math.abs(j-pe)<=y*Math.max(1,Math.abs(j),Math.abs(pe))&&Math.abs(q-_e)<=y*Math.max(1,Math.abs(q),Math.abs(_e))}function z(o,d,m){return o[0]=d[0]*m,o[1]=d[1]*m,o[2]=d[2]*m,o[3]=d[3]*m,o}function U(o,d,m,S){return o[0]=d[0]+m[0]*S,o[1]=d[1]+m[1]*S,o[2]=d[2]+m[2]*S,o[3]=d[3]+m[3]*S,o}Math.hypot||(Math.hypot=function(){for(var o=0,d=arguments.length;d--;)o+=arguments[d]*arguments[d];return Math.sqrt(o)});var W=X,ce=ee;function ue(){var o=new b(2);return b!=Float32Array&&(o[0]=0,o[1]=0),o}function he(o){var d=new b(2);return d[0]=o[0],d[1]=o[1],d}function ge(o,d){var m=new b(2);return m[0]=o,m[1]=d,m}function ye(o,d){return o[0]=d[0],o[1]=d[1],o}function xe(o,d,m){return o[0]=d,o[1]=m,o}function we(o,d,m){return o[0]=d[0]+m[0],o[1]=d[1]+m[1],o}function Me(o,d,m){return o[0]=d[0]-m[0],o[1]=d[1]-m[1],o}function Re(o,d,m){return o[0]=d[0]*m[0],o[1]=d[1]*m[1],o}function tt(o,d,m){return o[0]=d[0]/m[0],o[1]=d[1]/m[1],o}function Dt(o,d){return o[0]=Math.ceil(d[0]),o[1]=Math.ceil(d[1]),o}function rt(o,d){return o[0]=Math.floor(d[0]),o[1]=Math.floor(d[1]),o}function Fe(o,d,m){return o[0]=Math.min(d[0],m[0]),o[1]=Math.min(d[1],m[1]),o}function jt(o,d,m){return o[0]=Math.max(d[0],m[0]),o[1]=Math.max(d[1],m[1]),o}function It(o,d){return o[0]=Math.round(d[0]),o[1]=Math.round(d[1]),o}function nt(o,d,m){return o[0]=d[0]*m,o[1]=d[1]*m,o}function zt(o,d,m,S){return o[0]=d[0]+m[0]*S,o[1]=d[1]+m[1]*S,o}function ot(o,d){var m=d[0]-o[0],S=d[1]-o[1];return Math.hypot(m,S)}function at(o,d){var m=d[0]-o[0],S=d[1]-o[1];return m*m+S*S}function He(o){var d=o[0],m=o[1];return Math.hypot(d,m)}function ut(o){var d=o[0],m=o[1];return d*d+m*m}function Xe(o,d){return o[0]=-d[0],o[1]=-d[1],o}function it(o,d){return o[0]=1/d[0],o[1]=1/d[1],o}function ct(o,d){var m=d[0],S=d[1],j=m*m+S*S;return j>0&&(j=1/Math.sqrt(j)),o[0]=d[0]*j,o[1]=d[1]*j,o}function st(o,d){return o[0]*d[0]+o[1]*d[1]}function Qe(o,d,m){var S=d[0]*m[1]-d[1]*m[0];return o[0]=o[1]=0,o[2]=S,o}function Ut(o,d,m,S){var j=d[0],q=d[1];return o[0]=j+S*(m[0]-j),o[1]=q+S*(m[1]-q),o}function Lt(o,d){d=d||1;var m=2*M()*Math.PI;return o[0]=Math.cos(m)*d,o[1]=Math.sin(m)*d,o}function ft(o,d,m){var S=d[0],j=d[1];return o[0]=m[0]*S+m[2]*j,o[1]=m[1]*S+m[3]*j,o}function Nt(o,d,m){var S=d[0],j=d[1];return o[0]=m[0]*S+m[2]*j+m[4],o[1]=m[1]*S+m[3]*j+m[5],o}function lt(o,d,m){var S=d[0],j=d[1];return o[0]=m[0]*S+m[3]*j+m[6],o[1]=m[1]*S+m[4]*j+m[7],o}function dt(o,d,m){var S=d[0],j=d[1];return o[0]=m[0]*S+m[4]*j+m[12],o[1]=m[1]*S+m[5]*j+m[13],o}function ke(o,d,m,S){var j=d[0]-m[0],q=d[1]-m[1],re=Math.sin(S),se=Math.cos(S);return o[0]=j*se-q*re+m[0],o[1]=j*re+q*se+m[1],o}function Ft(o,d){var m=o[0],S=o[1],j=d[0],q=d[1],re=Math.sqrt(m*m+S*S)*Math.sqrt(j*j+q*q),se=re&&(m*j+S*q)/re;return Math.acos(Math.min(Math.max(se,-1),1))}function ht(o){return o[0]=0,o[1]=0,o}function Bt(o){return"vec2("+o[0]+", "+o[1]+")"}function Wt(o,d){return o[0]===d[0]&&o[1]===d[1]}function pt(o,d){var m=o[0],S=o[1],j=d[0],q=d[1];return Math.abs(m-j)<=y*Math.max(1,Math.abs(m),Math.abs(j))&&Math.abs(S-q)<=y*Math.max(1,Math.abs(S),Math.abs(q))}var Te,vt=He,qt=Me,gt=Re,yt=tt,Vt=ot,mt=at,Gt=ut,xt=(Te=ue(),function(o,d,m,S,j,q){var re,se;for(d||(d=2),m||(m=0),se=S?Math.min(S*d+m,o.length):o.length,re=m;re<se;re+=d)Te[0]=o[re],Te[1]=o[re+1],j(Te,Te,q),o[re]=Te[0],o[re+1]=Te[1];return o});function Ie(){var o=new b(3);return b!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o}function Be(o){var d=new b(3);return d[0]=o[0],d[1]=o[1],d[2]=o[2],d}function Ye(o){var d=o[0],m=o[1],S=o[2];return Math.hypot(d,m,S)}function Ht(o,d,m){var S=new b(3);return S[0]=o,S[1]=d,S[2]=m,S}function _t(o,d){return o[0]=d[0],o[1]=d[1],o[2]=d[2],o}function ze(o,d,m,S){return o[0]=d,o[1]=m,o[2]=S,o}function $e(o,d,m){return o[0]=d[0]+m[0],o[1]=d[1]+m[1],o[2]=d[2]+m[2],o}function Pe(o,d,m){return o[0]=d[0]-m[0],o[1]=d[1]-m[1],o[2]=d[2]-m[2],o}function bt(o,d,m){return o[0]=d[0]*m[0],o[1]=d[1]*m[1],o[2]=d[2]*m[2],o}function wt(o,d,m){return o[0]=d[0]/m[0],o[1]=d[1]/m[1],o[2]=d[2]/m[2],o}function Xt(o,d){return o[0]=Math.ceil(d[0]),o[1]=Math.ceil(d[1]),o[2]=Math.ceil(d[2]),o}function Qt(o,d){return o[0]=Math.floor(d[0]),o[1]=Math.floor(d[1]),o[2]=Math.floor(d[2]),o}function je(o,d,m){return o[0]=Math.min(d[0],m[0]),o[1]=Math.min(d[1],m[1]),o[2]=Math.min(d[2],m[2]),o}function Ze(o,d,m){return o[0]=Math.max(d[0],m[0]),o[1]=Math.max(d[1],m[1]),o[2]=Math.max(d[2],m[2]),o}function Ot(o,d){return o[0]=Math.round(d[0]),o[1]=Math.round(d[1]),o[2]=Math.round(d[2]),o}function Yt(o,d,m){return o[0]=d[0]*m,o[1]=d[1]*m,o[2]=d[2]*m,o}function $t(o,d,m,S){return o[0]=d[0]+m[0]*S,o[1]=d[1]+m[1]*S,o[2]=d[2]+m[2]*S,o}function Rt(o,d){var m=d[0]-o[0],S=d[1]-o[1],j=d[2]-o[2];return Math.hypot(m,S,j)}function Mt(o,d){var m=d[0]-o[0],S=d[1]-o[1],j=d[2]-o[2];return m*m+S*S+j*j}function Ke(o){var d=o[0],m=o[1],S=o[2];return d*d+m*m+S*S}function Zt(o,d){return o[0]=-d[0],o[1]=-d[1],o[2]=-d[2],o}function Kt(o,d){return o[0]=1/d[0],o[1]=1/d[1],o[2]=1/d[2],o}function Ct(o,d){var m=d[0],S=d[1],j=d[2],q=m*m+S*S+j*j;return q>0&&(q=1/Math.sqrt(q)),o[0]=d[0]*q,o[1]=d[1]*q,o[2]=d[2]*q,o}function Ue(o,d){return o[0]*d[0]+o[1]*d[1]+o[2]*d[2]}function Le(o,d,m){var S=d[0],j=d[1],q=d[2],re=m[0],se=m[1],pe=m[2];return o[0]=j*pe-q*se,o[1]=q*re-S*pe,o[2]=S*se-j*re,o}function We(o,d,m,S){var j=d[0],q=d[1],re=d[2];return o[0]=j+S*(m[0]-j),o[1]=q+S*(m[1]-q),o[2]=re+S*(m[2]-re),o}function Et(o,d,m,S,j,q){var re=q*q,se=re*(2*q-3)+1,pe=re*(q-2)+q,_e=re*(q-1),Oe=re*(3-2*q);return o[0]=d[0]*se+m[0]*pe+S[0]*_e+j[0]*Oe,o[1]=d[1]*se+m[1]*pe+S[1]*_e+j[1]*Oe,o[2]=d[2]*se+m[2]*pe+S[2]*_e+j[2]*Oe,o}function Jt(o,d,m,S,j,q){var re=1-q,se=re*re,pe=q*q,_e=se*re,Oe=3*q*se,Ae=3*pe*re,Se=pe*q;return o[0]=d[0]*_e+m[0]*Oe+S[0]*Ae+j[0]*Se,o[1]=d[1]*_e+m[1]*Oe+S[1]*Ae+j[1]*Se,o[2]=d[2]*_e+m[2]*Oe+S[2]*Ae+j[2]*Se,o}function Ce(o,d){d=d||1;var m=2*M()*Math.PI,S=2*M()-1,j=Math.sqrt(1-S*S)*d;return o[0]=Math.cos(m)*j,o[1]=Math.sin(m)*j,o[2]=S*d,o}function qe(o,d,m){var S=d[0],j=d[1],q=d[2],re=m[3]*S+m[7]*j+m[11]*q+m[15];return re=re||1,o[0]=(m[0]*S+m[4]*j+m[8]*q+m[12])/re,o[1]=(m[1]*S+m[5]*j+m[9]*q+m[13])/re,o[2]=(m[2]*S+m[6]*j+m[10]*q+m[14])/re,o}function At(o,d,m){var S=d[0],j=d[1],q=d[2];return o[0]=S*m[0]+j*m[3]+q*m[6],o[1]=S*m[1]+j*m[4]+q*m[7],o[2]=S*m[2]+j*m[5]+q*m[8],o}function er(o,d,m){var S=m[0],j=m[1],q=m[2],re=m[3],se=d[0],pe=d[1],_e=d[2],Oe=j*_e-q*pe,Ae=q*se-S*_e,Se=S*pe-j*se,De=j*Se-q*Ae,Ge=q*Oe-S*Se,et=S*Ae-j*Oe,h=2*re;return Oe*=h,Ae*=h,Se*=h,De*=2,Ge*=2,et*=2,o[0]=se+Oe+De,o[1]=pe+Ae+Ge,o[2]=_e+Se+et,o}function tr(o,d,m,S){var j=[],q=[];return j[0]=d[0]-m[0],j[1]=d[1]-m[1],j[2]=d[2]-m[2],q[0]=j[0],q[1]=j[1]*Math.cos(S)-j[2]*Math.sin(S),q[2]=j[1]*Math.sin(S)+j[2]*Math.cos(S),o[0]=q[0]+m[0],o[1]=q[1]+m[1],o[2]=q[2]+m[2],o}function Ve(o,d,m,S){var j=[],q=[];return j[0]=d[0]-m[0],j[1]=d[1]-m[1],j[2]=d[2]-m[2],q[0]=j[2]*Math.sin(S)+j[0]*Math.cos(S),q[1]=j[1],q[2]=j[2]*Math.cos(S)-j[0]*Math.sin(S),o[0]=q[0]+m[0],o[1]=q[1]+m[1],o[2]=q[2]+m[2],o}function St(o,d,m,S){var j=[],q=[];return j[0]=d[0]-m[0],j[1]=d[1]-m[1],j[2]=d[2]-m[2],q[0]=j[0]*Math.cos(S)-j[1]*Math.sin(S),q[1]=j[0]*Math.sin(S)+j[1]*Math.cos(S),q[2]=j[2],o[0]=q[0]+m[0],o[1]=q[1]+m[1],o[2]=q[2]+m[2],o}function rr(o,d){var m=o[0],S=o[1],j=o[2],q=d[0],re=d[1],se=d[2],pe=Math.sqrt(m*m+S*S+j*j)*Math.sqrt(q*q+re*re+se*se),_e=pe&&Ue(o,d)/pe;return Math.acos(Math.min(Math.max(_e,-1),1))}function nr(o){return o[0]=0,o[1]=0,o[2]=0,o}function or(o){return"vec3("+o[0]+", "+o[1]+", "+o[2]+")"}function ar(o,d){return o[0]===d[0]&&o[1]===d[1]&&o[2]===d[2]}function ur(o,d){var m=o[0],S=o[1],j=o[2],q=d[0],re=d[1],se=d[2];return Math.abs(m-q)<=y*Math.max(1,Math.abs(m),Math.abs(q))&&Math.abs(S-re)<=y*Math.max(1,Math.abs(S),Math.abs(re))&&Math.abs(j-se)<=y*Math.max(1,Math.abs(j),Math.abs(se))}var kt=Pe,ir=bt,cr=wt,Pt=Rt,sr=Mt,Je=Ye,fr=Ke,Tt=function(){var o=Ie();return function(d,m,S,j,q,re){var se,pe;for(m||(m=3),S||(S=0),pe=j?Math.min(j*m+S,d.length):d.length,se=S;se<pe;se+=m)o[0]=d[se],o[1]=d[se+1],o[2]=d[se+2],q(o,o,re),d[se]=o[0],d[se+1]=o[1],d[se+2]=o[2];return d}}()},function(i,w,e){var a=e(13).default,u=e(1);i.exports=function(s,f){if(f&&(a(f)==="object"||typeof f=="function"))return f;if(f!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u(s)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(40);i.exports=function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),s&&a(u,s)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(141)();i.exports=a;try{regeneratorRuntime=a}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},function(i,w,e){w.a={init:function(a,u){a.fill(u)},shuffle:function(a){for(var u=a.length-1;u>0;u--){var s=Math.floor(Math.random()*(u+1)),f=[a[s],a[u]];a[u]=f[0],a[s]=f[1]}return a},toPointList:function(a){var u=a.reduce(function(s,f){var y="[".concat(f.join(","),"]");return s.push(y),s},[]);return"[".concat(u.join(`,\r
`),"]")},threshold:function(a,u,s){return a.reduce(function(f,y){return s.apply(a,[y])>=u&&f.push(y),f},[])},maxIndex:function(a){for(var u=0,s=0;s<a.length;s++)a[s]>a[u]&&(u=s);return u},max:function(a){for(var u=0,s=0;s<a.length;s++)a[s]>u&&(u=a[s]);return u},sum:function(a){for(var u=a.length,s=0;u--;)s+=a[u];return s}}},function(i,w,e){e.d(w,"h",function(){return y}),e.d(w,"i",function(){return M}),e.d(w,"b",function(){return C}),e.d(w,"j",function(){return B}),e.d(w,"e",function(){return I}),e.d(w,"c",function(){return Q}),e.d(w,"f",function(){return ne}),e.d(w,"g",function(){return J}),e.d(w,"a",function(){return F}),e.d(w,"d",function(){return A});var a=e(5),u=e(9);a.a.setMatrixArrayType(Array);var s=function(O,k){var L=[],P={rad:0,vec:a.c.clone([0,0])},X={};function T(E){X[E.id]=E,L.push(E)}function V(){var E,G=0;for(E=0;E<L.length;E++)G+=L[E].rad;P.rad=G/L.length,P.vec=a.c.clone([Math.cos(P.rad),Math.sin(P.rad)])}return T(O),V(),{add:function(E){X[E.id]||(T(E),V())},fits:function(E){return Math.abs(a.c.dot(E.point.vec,P.vec))>k},getPoints:function(){return L},getCenter:function(){return P}}},f=function(O,k,L){return{rad:O[L],point:O,id:k}};function y(O,k){return{x:O,y:k,toVec2:function(){return a.c.clone([this.x,this.y])},toVec3:function(){return a.d.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function b(O,k){k||(k=8);for(var L=O.data,P=L.length,X=8-k,T=new Int32Array(1<<k);P--;)T[L[P]>>X]++;return T}function M(O,k){var L=function(P){var X,T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8,V=8-T;function E($,ae){for(var ee=0,te=$;te<=ae;te++)ee+=X[te];return ee}function G($,ae){for(var ee=0,te=$;te<=ae;te++)ee+=te*X[te];return ee}function Z(){var $,ae,ee,te,fe=[0],z=(1<<T)-1;X=b(P,T);for(var U=1;U<z;U++)(ee=($=E(0,U))*(ae=E(U+1,z)))===0&&(ee=1),te=G(0,U)*ae-G(U+1,z)*$,fe[U]=te*te/ee;return u.a.maxIndex(fe)}var K=Z();return K<<V}(O);return function(P,X,T){T||(T=P);for(var V=P.data,E=V.length,G=T.data;E--;)G[E]=V[E]<X?1:0}(O,L,k),L}function C(O,k,L){var P,X,T,V,E=[];function G(Z){var K=!1;for(X=0;X<E.length;X++)(T=E[X]).fits(Z)&&(T.add(Z),K=!0);return K}for(L||(L="rad"),P=0;P<O.length;P++)G(V=f(O[P],P,L))||E.push(s(V,k));return E}a.a.setMatrixArrayType(Array);function B(O,k,L){var P,X,T,V,E=0,G=0,Z=[];for(P=0;P<k;P++)Z[P]={score:0,item:null};for(P=0;P<O.length;P++)if((X=L.apply(this,[O[P]]))>G)for((T=Z[E]).score=X,T.item=O[P],G=Number.MAX_VALUE,V=0;V<k;V++)Z[V].score<G&&(G=Z[V].score,E=V);return Z}function I(O,k,L){for(var P,X=0,T=k.x,V=Math.floor(O.length/4),E=k.x/2,G=0,Z=k.x;T<V;){for(P=0;P<E;P++)L[G]=(.299*O[4*X+0]+.587*O[4*X+1]+.114*O[4*X+2]+(.299*O[4*(X+1)+0]+.587*O[4*(X+1)+1]+.114*O[4*(X+1)+2])+(.299*O[4*T+0]+.587*O[4*T+1]+.114*O[4*T+2])+(.299*O[4*(T+1)+0]+.587*O[4*(T+1)+1]+.114*O[4*(T+1)+2]))/4,G++,X+=2,T+=2;X+=Z,T+=Z}}function Q(O,k,L){var P=O.length/4|0;if(L&&L.singleChannel===!0)for(var X=0;X<P;X++)k[X]=O[4*X+0];else for(var T=0;T<P;T++)k[T]=.299*O[4*T+0]+.587*O[4*T+1]+.114*O[4*T+2]}function ne(O,k){for(var L=O.data,P=O.size.x,X=k.data,T=0,V=P,E=L.length,G=P/2,Z=0;V<E;){for(var K=0;K<G;K++)X[Z]=Math.floor((L[T]+L[T+1]+L[V]+L[V+1])/4),Z++,T+=2,V+=2;T+=P,V+=P}}function J(O){var k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0,0,0],L=O[0],P=O[1],X=O[2],T=X*P,V=T*(1-Math.abs(L/60%2-1)),E=X-T,G=0,Z=0,K=0;return L<60?(G=T,Z=V):L<120?(G=V,Z=T):L<180?(Z=T,K=V):L<240?(Z=V,K=T):L<300?(G=V,K=T):L<360&&(G=T,K=V),k[0]=255*(G+E)|0,k[1]=255*(Z+E)|0,k[2]=255*(K+E)|0,k}function oe(O){for(var k=[],L=[],P=1;P<Math.sqrt(O)+1;P++)O%P==0&&(L.push(P),P!==O/P&&k.unshift(Math.floor(O/P)));return L.concat(k)}function F(O,k){var L,P=oe(k.x),X=oe(k.y),T=Math.max(k.x,k.y),V=function(ee,te){for(var fe=0,z=0,U=[];fe<ee.length&&z<te.length;)ee[fe]===te[z]?(U.push(ee[fe]),fe++,z++):ee[fe]>te[z]?z++:fe++;return U}(P,X),E=[8,10,15,20,32,60,80],G={"x-small":5,small:4,medium:3,large:2,"x-large":1},Z=G[O]||G.medium,K=E[Z],$=Math.floor(T/K);function ae(ee){for(var te=0,fe=ee[Math.floor(ee.length/2)];te<ee.length-1&&ee[te]<$;)te++;return te>0&&(fe=Math.abs(ee[te]-$)>Math.abs(ee[te-1]-$)?ee[te-1]:ee[te]),$/fe<E[Z+1]/E[Z]&&$/fe>E[Z-1]/E[Z]?{x:fe,y:fe}:null}return(L=ae(V))||(L=ae(oe(T)))||(L=ae(oe($*K))),L}var D={top:function(O,k){return O.unit==="%"?Math.floor(k.height*(O.value/100)):null},right:function(O,k){return O.unit==="%"?Math.floor(k.width-k.width*(O.value/100)):null},bottom:function(O,k){return O.unit==="%"?Math.floor(k.height-k.height*(O.value/100)):null},left:function(O,k){return O.unit==="%"?Math.floor(k.width*(O.value/100)):null}};function A(O,k,L){var P={width:O,height:k},X=Object.keys(L).reduce(function(T,V){var E=function(Z){return{value:parseFloat(Z),unit:(Z.indexOf("%"),Z.length,"%")}}(L[V]),G=D[V](E,P);return T[V]=G,T},{});return{sx:X.left,sy:X.top,sw:X.right-X.left,sh:X.bottom-X.top}}},function(i,w,e){var a=e(62),u=e.n(a),s=e(3),f=e.n(s),y=e(4),b=e.n(y),M=e(0),C=e.n(M),B=e(5),I=e(9),Q=e(10);function ne(oe){if(oe<0)throw new Error("expected positive number, received ".concat(oe))}B.a.setMatrixArrayType(Array);var J=function(){function oe(F,D){var A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Uint8Array,O=arguments.length>3?arguments[3]:void 0;f()(this,oe),C()(this,"data",void 0),C()(this,"size",void 0),C()(this,"indexMapping",void 0),D?this.data=D:(this.data=new A(F.x*F.y),O&&I.a.init(this.data,0)),this.size=F}return b()(oe,[{key:"inImageWithBorder",value:function(F){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ne(D),F.x>=0&&F.y>=0&&F.x<this.size.x+2*D&&F.y<this.size.y+2*D}},{key:"subImageAsCopy",value:function(F,D){ne(D.x),ne(D.y);for(var A=F.size,O=A.x,k=A.y,L=0;L<O;L++)for(var P=0;P<k;P++)F.data[P*O+L]=this.data[(D.y+P)*this.size.x+D.x+L];return F}},{key:"get",value:function(F,D){return this.data[D*this.size.x+F]}},{key:"getSafe",value:function(F,D){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var A=0;A<this.size.x;A++)this.indexMapping.x[A]=A,this.indexMapping.x[A+this.size.x]=A;for(var O=0;O<this.size.y;O++)this.indexMapping.y[O]=O,this.indexMapping.y[O+this.size.y]=O}return this.data[this.indexMapping.y[D+this.size.y]*this.size.x+this.indexMapping.x[F+this.size.x]]}},{key:"set",value:function(F,D,A){return this.data[D*this.size.x+F]=A,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var F=this.size,D=F.x,A=F.y,O=0;O<D;O++)this.data[O]=this.data[(A-1)*D+O]=0;for(var k=1;k<A-1;k++)this.data[k*D]=this.data[k*D+(D-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(F){var D,A,O,k,L,P,X,T,V,E,G=this.data,Z=this.size.y,K=this.size.x,$=[],ae=[],ee=Math.PI,te=ee/4;if(F<=0)return ae;for(L=0;L<F;L++)$[L]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(A=0;A<Z;A++)for(k=A*A,D=0;D<K;D++)(O=G[A*K+D])>0&&((P=$[O-1]).m00+=1,P.m01+=A,P.m10+=D,P.m11+=D*A,P.m02+=k,P.m20+=D*D);for(L=0;L<F;L++)P=$[L],isNaN(P.m00)||P.m00===0||(T=P.m10/P.m00,V=P.m01/P.m00,X=P.m11/P.m00-T*V,E=(P.m02/P.m00-V*V-(P.m20/P.m00-T*T))/(2*X),E=.5*Math.atan(E)+(X>=0?te:-te)+ee,P.theta=(180*E/ee+90)%180-90,P.theta<0&&(P.theta+=180),P.rad=E>ee?E-ee:E,P.vec=B.c.clone([Math.cos(E),Math.sin(E)]),ae.push(P));return ae}},{key:"getAsRGBA",value:function(){for(var F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,D=new Uint8ClampedArray(4*this.size.x*this.size.y),A=0;A<this.size.y;A++)for(var O=0;O<this.size.x;O++){var k=A*this.size.x+O,L=this.get(O,A)*F;D[4*k+0]=L,D[4*k+1]=L,D[4*k+2]=L,D[4*k+3]=255}return D}},{key:"show",value:function(F){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;console.warn("* imagewrapper show getcontext 2d");var A=F.getContext("2d");if(!A)throw new Error("Unable to get canvas context");var O=A.getImageData(0,0,F.width,F.height),k=this.getAsRGBA(D);F.width=this.size.x,F.height=this.size.y;var L=new ImageData(k,O.width,O.height);A.putImageData(L,0,0)}},{key:"overlay",value:function(F,D,A){var O=D<0||D>360?360:D,k=[0,1,1],L=[0,0,0],P=[255,255,255],X=[0,0,0];console.warn("* imagewrapper overlay getcontext 2d");var T=F.getContext("2d");if(!T)throw new Error("Unable to get canvas context");for(var V=T.getImageData(A.x,A.y,this.size.x,this.size.y),E=V.data,G=this.data.length;G--;){k[0]=this.data[G]*O;var Z=4*G,K=k[0]<=0?P:k[0]>=360?X:Object(Q.g)(k,L),$=u()(K,3);E[Z]=$[0],E[Z+1]=$[1],E[Z+2]=$[2],E[Z+3]=255}T.putImageData(V,A.x,A.y)}}]),oe}();w.a=J},function(i,w){function e(a,u,s,f,y,b,M){try{var C=a[b](M),B=C.value}catch(I){return void s(I)}C.done?u(B):Promise.resolve(B).then(f,y)}i.exports=function(a){return function(){var u=this,s=arguments;return new Promise(function(f,y){var b=a.apply(u,s);function M(B){e(b,f,y,M,C,"next",B)}function C(B){e(b,f,y,M,C,"throw",B)}M(void 0)})}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){function e(a){return i.exports=e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},i.exports.__esModule=!0,i.exports.default=i.exports,e(a)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(142);function u(){return typeof Reflect<"u"&&Reflect.get?(i.exports=u=Reflect.get.bind(),i.exports.__esModule=!0,i.exports.default=i.exports):(i.exports=u=function(s,f,y){var b=a(s,f);if(b){var M=Object.getOwnPropertyDescriptor(b,f);return M.get?M.get.call(arguments.length<3?s:y):M.value}},i.exports.__esModule=!0,i.exports.default=i.exports),u.apply(this,arguments)}i.exports=u,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e){var a=typeof e;return e!=null&&(a=="object"||a=="function")}},function(i,w){var e=Array.isArray;i.exports=e},function(i,w,e){w.a={drawRect:function(a,u,s,f){s.strokeStyle=f.color,s.fillStyle=f.color,s.lineWidth=f.lineWidth||1,s.beginPath(),s.strokeRect(a.x,a.y,u.x,u.y)},drawPath:function(a,u,s,f){s.strokeStyle=f.color,s.fillStyle=f.color,s.lineWidth=f.lineWidth,s.beginPath(),s.moveTo(a[0][u.x],a[0][u.y]);for(var y=1;y<a.length;y++)s.lineTo(a[y][u.x],a[y][u.y]);s.closePath(),s.stroke()},drawImage:function(a,u,s){var f=s.getImageData(0,0,u.x,u.y),y=f.data,b=y.length,M=a.length;if(b/M!=4)return!1;for(;M--;){var C=a[M];y[--b]=255,y[--b]=C,y[--b]=C,y[--b]=C}return s.putImageData(f,0,0),!0}}},function(i,w,e){var a=e(74),u=e(129)(function(s,f,y){a(s,f,y)});i.exports=u},function(i,w,e){var a=e(44),u=typeof self=="object"&&self&&self.Object===Object&&self,s=a||u||Function("return this")();i.exports=s},function(i,w){i.exports=function(e){return e!=null&&typeof e=="object"}},function(i,w,e){w.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(a,u){var s,f=a.data,y=u.data,b=this.searchDirections,M=a.size.x;function C(I,Q,ne,J){var oe,F,D;for(oe=0;oe<b.length;oe++){if(F=I.cy+b[I.dir][0],D=I.cx+b[I.dir][1],f[s=F*M+D]===Q&&(y[s]===0||y[s]===ne))return y[s]=ne,I.cy=F,I.cx=D,!0;y[s]===0&&(y[s]=J),I.dir=(I.dir+1)%8}return!1}function B(I,Q,ne){return{dir:ne,x:I,y:Q,next:null,prev:null}}return{trace:function(I,Q,ne,J){return C(I,Q,ne,J)},contourTracing:function(I,Q,ne,J,oe){return function(F,D,A,O,k){var L,P,X,T=null,V={cx:D,cy:F,dir:0};if(C(V,O,A,k)){L=T=B(D,F,V.dir),X=V.dir,(P=B(V.cx,V.cy,0)).prev=L,L.next=P,P.next=null,L=P;var E=a.size.x*a.size.y,G=0;do V.dir=(V.dir+6)%8,C(V,O,A,k),X!==V.dir?(L.dir=V.dir,(P=B(V.cx,V.cy,0)).prev=L,L.next=P,P.next=null,L=P):(L.dir=X,L.x=V.cx,L.y=V.cy),X=V.dir;while((V.cx!==D||V.cy!==F)&&++G<E);T.prev=L.prev,L.prev.next=T}return T}(I,Q,ne,J,oe)}}}}},function(i,w,e){var a=e(27),u=e(87),s=e(88),f=a?a.toStringTag:void 0;i.exports=function(y){return y==null?y===void 0?"[object Undefined]":"[object Null]":f&&f in Object(y)?u(y):s(y)}},function(i,w,e){(function(a){var u,s,f,y,b,M,C,B,I,Q,ne=e(5),J=e(11),oe=e(10),F=e(9),D=(e(17),e(65)),A=e(21),O=e(66);ne.a.setMatrixArrayType(Array);var k,L,P={ctx:{binary:null},dom:{binary:null}},X={x:0,y:0};function T(G){var Z,K,$,ae,ee,te,fe,z=I.size.x,U=I.size.y,W=-I.size.x,ce=-I.size.y;for(Z=0,K=0;K<G.length;K++)Z+=(ae=G[K]).rad;for((Z=(180*(Z/=G.length)/Math.PI+90)%180-90)<0&&(Z+=180),Z=(180-Z)*Math.PI/180,ee=ne.b.copy(ne.b.create(),[Math.cos(Z),Math.sin(Z),-Math.sin(Z),Math.cos(Z)]),K=0;K<G.length;K++)for(ae=G[K],$=0;$<4;$++)ne.c.transformMat2(ae.box[$],ae.box[$],ee);for(K=0;K<G.length;K++)for(ae=G[K],$=0;$<4;$++)ae.box[$][0]<z&&(z=ae.box[$][0]),ae.box[$][0]>W&&(W=ae.box[$][0]),ae.box[$][1]<U&&(U=ae.box[$][1]),ae.box[$][1]>ce&&(ce=ae.box[$][1]);for(te=[[z,U],[W,U],[W,ce],[z,ce]],fe=u.halfSample?2:1,ee=ne.b.invert(ee,ee),$=0;$<4;$++)ne.c.transformMat2(te[$],te[$],ee);for($=0;$<4;$++)ne.c.scale(te[$],te[$],fe);return te}function V(G,Z){I.subImageAsCopy(y,Object(oe.h)(G,Z)),L.skeletonize()}function E(G,Z,K,$){var ae,ee,te,fe,z=[],U=[],W=Math.ceil(Q.x/3);if(G.length>=2){for(ae=0;ae<G.length;ae++)G[ae].m00>W&&z.push(G[ae]);if(z.length>=2){for(te=function(he){var ge=Object(oe.b)(he,.9),ye=Object(oe.j)(ge,1,function(Re){return Re.getPoints().length}),xe=[],we=[];if(ye.length===1){xe=ye[0].item.getPoints();for(var Me=0;Me<xe.length;Me++)we.push(xe[Me].point)}return we}(z),ee=0,ae=0;ae<te.length;ae++){var ce,ue;ee+=(ce=(ue=te[ae])===null||ue===void 0?void 0:ue.rad)!==null&&ce!==void 0?ce:0}te.length>1&&te.length>=z.length/4*3&&te.length>G.length/4&&(ee/=te.length,fe={index:Z[1]*X.x+Z[0],pos:{x:K,y:$},box:[ne.c.clone([K,$]),ne.c.clone([K+y.size.x,$]),ne.c.clone([K+y.size.x,$+y.size.y]),ne.c.clone([K,$+y.size.y])],moments:te,rad:ee,vec:ne.c.clone([Math.cos(ee),Math.sin(ee)])},U.push(fe))}}return U}w.a={init:function(G,Z){u=Z,k=G,function(){s=u.halfSample?new J.a({x:k.size.x/2|0,y:k.size.y/2|0}):k,Q=Object(oe.a)(u.patchSize,s.size),X.x=s.size.x/Q.x|0,X.y=s.size.y/Q.y|0,I=new J.a(s.size,void 0,Uint8Array,!1),b=new J.a(Q,void 0,Array,!0);var K=new ArrayBuffer(65536);y=new J.a(Q,new Uint8Array(K,0,Q.x*Q.y)),f=new J.a(Q,new Uint8Array(K,Q.x*Q.y*3,Q.x*Q.y),void 0,!0),L=Object(O.a)(typeof window<"u"?window:typeof self<"u"?self:a,{size:Q.x},K),B=new J.a({x:s.size.x/y.size.x|0,y:s.size.y/y.size.y|0},void 0,Array,!0),M=new J.a(B.size,void 0,void 0,!0),C=new J.a(B.size,void 0,Int32Array,!0)}(),function(){if(!u.useWorker&&typeof document<"u"){P.dom.binary=document.createElement("canvas"),P.dom.binary.className="binaryBuffer";var K=!!u.willReadFrequently;console.warn("* initCanvas willReadFrequently",K,u),P.ctx.binary=P.dom.binary.getContext("2d",{willReadFrequently:K}),P.dom.binary.width=I.size.x,P.dom.binary.height=I.size.y}}()},locate:function(){u.halfSample&&Object(oe.f)(k,s),Object(oe.i)(s,I),I.zeroBorder();var G=function(){var $,ae,ee,te,fe,z,U=[];for($=0;$<X.x;$++)for(ae=0;ae<X.y;ae++)V(ee=y.size.x*$,te=y.size.y*ae),f.zeroBorder(),F.a.init(b.data,0),z=D.a.create(f,b).rasterize(0),fe=b.moments(z.count),U=U.concat(E(fe,[$,ae],ee,te));return U}();if(G.length<X.x*X.y*.05)return null;var Z=function($){var ae,ee,te=0,fe=0;function z(){var W;for(W=0;W<C.data.length;W++)if(C.data[W]===0&&M.data[W]===1)return W;return C.data.length}function U(W){var ce,ue,he,ge,ye,xe=W%C.size.x,we=W/C.size.x|0;if(W<C.data.length)for(he=B.data[W],C.data[W]=te,ye=0;ye<A.a.searchDirections.length;ye++)ue=we+A.a.searchDirections[ye][0],ce=xe+A.a.searchDirections[ye][1],ge=ue*C.size.x+ce,M.data[ge]!==0?C.data[ge]===0&&Math.abs(ne.c.dot(B.data[ge].vec,he.vec))>.95&&U(ge):C.data[ge]=Number.MAX_VALUE}for(F.a.init(M.data,0),F.a.init(C.data,0),F.a.init(B.data,null),ae=0;ae<$.length;ae++)ee=$[ae],B.data[ee.index]=ee,M.data[ee.index]=1;for(M.zeroBorder();(fe=z())<C.data.length;)te++,U(fe);return te}(G);if(Z<1)return null;var K=function($){var ae,ee,te=[];for(ae=0;ae<$;ae++)te.push(0);for(ee=C.data.length;ee--;)C.data[ee]>0&&te[C.data[ee]-1]++;return(te=te.map(function(fe,z){return{val:fe,label:z+1}})).sort(function(fe,z){return z.val-fe.val}),te.filter(function(fe){return fe.val>=5})}(Z);return K.length===0?null:function($,ae){var ee,te,fe,z,U=[],W=[];for(ee=0;ee<$.length;ee++){for(te=C.data.length,U.length=0;te--;)C.data[te]===$[ee].label&&(fe=B.data[te],U.push(fe));(z=T(U))&&W.push(z)}return W}(K)},checkImageConstraints:function(G,Z){var K,$,ae=G.getWidth(),ee=G.getHeight(),te=Z.halfSample?.5:1;G.getConfig().area&&($=Object(oe.d)(ae,ee,G.getConfig().area),G.setTopRight({x:$.sx,y:$.sy}),G.setCanvasSize({x:ae,y:ee}),ae=$.sw,ee=$.sh);var fe={x:Math.floor(ae*te),y:Math.floor(ee*te)};if(K=Object(oe.a)(Z.patchSize,fe),G.setWidth(Math.max(Math.floor(Math.floor(fe.x/K.x)*(1/te)*K.x),K.x)),G.setHeight(Math.max(Math.floor(Math.floor(fe.y/K.y)*(1/te)*K.y),K.y)),G.getWidth()%K.x==0&&G.getHeight()%K.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(ae," )and height (").concat(ee,") must a multiple of ").concat(K.x))}}}).call(this,e(45))},function(i,w,e){var a=e(76),u=e(77),s=e(78),f=e(79),y=e(80);function b(M){var C=-1,B=M==null?0:M.length;for(this.clear();++C<B;){var I=M[C];this.set(I[0],I[1])}}b.prototype.clear=a,b.prototype.delete=u,b.prototype.get=s,b.prototype.has=f,b.prototype.set=y,i.exports=b},function(i,w,e){var a=e(26);i.exports=function(u,s){for(var f=u.length;f--;)if(a(u[f][0],s))return f;return-1}},function(i,w){i.exports=function(e,a){return e===a||e!=e&&a!=a}},function(i,w,e){var a=e(19).Symbol;i.exports=a},function(i,w,e){var a=e(34)(Object,"create");i.exports=a},function(i,w,e){var a=e(101);i.exports=function(u,s){var f=u.__data__;return a(s)?f[typeof s=="string"?"string":"hash"]:f.map}},function(i,w,e){var a=e(116),u=e(20),s=Object.prototype,f=s.hasOwnProperty,y=s.propertyIsEnumerable,b=a(function(){return arguments}())?a:function(M){return u(M)&&f.call(M,"callee")&&!y.call(M,"callee")};i.exports=b},function(i,w){var e=/^(?:0|[1-9]\d*)$/;i.exports=function(a,u){var s=typeof a;return!!(u=u??9007199254740991)&&(s=="number"||s!="symbol"&&e.test(a))&&a>-1&&a%1==0&&a<u}},function(i,w,e){var a=e(16),u=e(149),s=e(150),f=e(153);i.exports=function(y,b){return a(y)?y:u(y,b)?[y]:s(f(y))}},function(i,w,e){var a=e(143),u=e(144),s=e(59),f=e(145);i.exports=function(y){return a(y)||u(y)||s(y)||f()},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(86),u=e(92);i.exports=function(s,f){var y=u(s,f);return a(y)?y:void 0}},function(i,w,e){var a=e(22),u=e(15);i.exports=function(s){if(!u(s))return!1;var f=a(s);return f=="[object Function]"||f=="[object GeneratorFunction]"||f=="[object AsyncFunction]"||f=="[object Proxy]"}},function(i,w,e){var a=e(48);i.exports=function(u,s,f){s=="__proto__"&&a?a(u,s,{configurable:!0,enumerable:!0,value:f,writable:!0}):u[s]=f}},function(i,w){i.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(i,w,e){var a=e(35),u=e(39);i.exports=function(s){return s!=null&&u(s.length)&&!a(s)}},function(i,w){i.exports=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991}},function(i,w){function e(a,u){return i.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,f){return s.__proto__=f,s},i.exports.__esModule=!0,i.exports.default=i.exports,e(a,u)}i.exports=e,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(22),u=e(20);i.exports=function(s){return typeof s=="symbol"||u(s)&&a(s)=="[object Symbol]"}},function(i,w,e){var a=e(41);i.exports=function(u){if(typeof u=="string"||a(u))return u;var s=u+"";return s=="0"&&1/u==-1/0?"-0":s}},function(i,w,e){var a=e(34)(e(19),"Map");i.exports=a},function(i,w,e){(function(a){var u=typeof a=="object"&&a&&a.Object===Object&&a;i.exports=u}).call(this,e(45))},function(i,w){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch{typeof window=="object"&&(e=window)}i.exports=e},function(i,w,e){var a=e(93),u=e(100),s=e(102),f=e(103),y=e(104);function b(M){var C=-1,B=M==null?0:M.length;for(this.clear();++C<B;){var I=M[C];this.set(I[0],I[1])}}b.prototype.clear=a,b.prototype.delete=u,b.prototype.get=s,b.prototype.has=f,b.prototype.set=y,i.exports=b},function(i,w,e){var a=e(36),u=e(26);i.exports=function(s,f,y){(y!==void 0&&!u(s[f],y)||y===void 0&&!(f in s))&&a(s,f,y)}},function(i,w,e){var a=e(34),u=function(){try{var s=a(Object,"defineProperty");return s({},"",{}),s}catch{}}();i.exports=u},function(i,w,e){var a=e(115)(Object.getPrototypeOf,Object);i.exports=a},function(i,w){var e=Object.prototype;i.exports=function(a){var u=a&&a.constructor;return a===(typeof u=="function"&&u.prototype||e)}},function(i,w,e){(function(a){var u=e(19),s=e(118),f=w&&!w.nodeType&&w,y=f&&typeof a=="object"&&a&&!a.nodeType&&a,b=y&&y.exports===f?u.Buffer:void 0,M=(b?b.isBuffer:void 0)||s;a.exports=M}).call(this,e(37)(i))},function(i,w,e){var a=e(120),u=e(121),s=e(122),f=s&&s.isTypedArray,y=f?u(f):a;i.exports=y},function(i,w){i.exports=function(e,a){if((a!=="constructor"||typeof e[a]!="function")&&a!="__proto__")return e[a]}},function(i,w,e){var a=e(36),u=e(26),s=Object.prototype.hasOwnProperty;i.exports=function(f,y,b){var M=f[y];s.call(f,y)&&u(M,b)&&(b!==void 0||y in f)||a(f,y,b)}},function(i,w,e){var a=e(125),u=e(127),s=e(38);i.exports=function(f){return s(f)?a(f,!0):u(f)}},function(i,w){i.exports=function(e){return e}},function(i,w,e){var a=e(131),u=Math.max;i.exports=function(s,f,y){return f=u(f===void 0?s.length-1:f,0),function(){for(var b=arguments,M=-1,C=u(b.length-f,0),B=Array(C);++M<C;)B[M]=b[f+M];M=-1;for(var I=Array(f+1);++M<f;)I[M]=b[M];return I[f]=y(B),a(s,this,I)}}},function(i,w,e){var a=e(132),u=e(134)(a);i.exports=u},function(i,w,e){var a=e(60);i.exports=function(u,s){if(u){if(typeof u=="string")return a(u,s);var f=Object.prototype.toString.call(u).slice(8,-1);return f==="Object"&&u.constructor&&(f=u.constructor.name),f==="Map"||f==="Set"?Array.from(u):f==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(f)?a(u,s):void 0}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e,a){(a==null||a>e.length)&&(a=e.length);for(var u=0,s=new Array(a);u<a;u++)s[u]=e[u];return s},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(13).default,u=e(140);i.exports=function(s){var f=u(s,"string");return a(f)==="symbol"?f:String(f)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(137),u=e(138),s=e(59),f=e(139);i.exports=function(y,b){return a(y)||u(y,b)||s(y,b)||f()},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(146),u=e(160)(function(s,f){return s==null?{}:a(s,f)});i.exports=u},function(i,w,e){var a=e(2),u=e(40),s=e(165),f=e(166);function y(b){var M=typeof Map=="function"?new Map:void 0;return i.exports=y=function(C){if(C===null||!s(C))return C;if(typeof C!="function")throw new TypeError("Super expression must either be null or a function");if(M!==void 0){if(M.has(C))return M.get(C);M.set(C,B)}function B(){return f(C,arguments,a(this).constructor)}return B.prototype=Object.create(C.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),u(B,C)},i.exports.__esModule=!0,i.exports.default=i.exports,y(b)}i.exports=y,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(21),u={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(s,f){var y=s.data,b=f.data,M=s.size.x,C=s.size.y,B=a.a.create(s,f);return{rasterize:function(I){var Q,ne,J,oe,F,D,A,O,k,L,P,X,T=[],V=0;for(X=0;X<400;X++)T[X]=0;for(T[0]=y[0],k=null,D=1;D<C-1;D++)for(oe=0,ne=T[0],F=1;F<M-1;F++)if(b[P=D*M+F]===0)if((Q=y[P])!==ne){if(oe===0)T[J=V+1]=Q,ne=Q,(A=B.contourTracing(D,F,J,Q,u.DIR.OUTSIDE_EDGE))!==null&&(V++,oe=J,(O=u.createContour2D()).dir=u.CONTOUR_DIR.CW_DIR,O.index=oe,O.firstVertex=A,O.nextpeer=k,O.insideContours=null,k!==null&&(k.prevpeer=O),k=O);else if((A=B.contourTracing(D,F,u.DIR.INSIDE_EDGE,Q,oe))!==null){for((O=u.createContour2D()).firstVertex=A,O.insideContours=null,O.dir=I===0?u.CONTOUR_DIR.CCW_DIR:u.CONTOUR_DIR.CW_DIR,O.index=I,L=k;L!==null&&L.index!==oe;)L=L.nextpeer;L!==null&&(O.nextpeer=L.insideContours,L.insideContours!==null&&(L.insideContours.prevpeer=O),L.insideContours=O)}}else b[P]=oe;else b[P]===u.DIR.OUTSIDE_EDGE||b[P]===u.DIR.INSIDE_EDGE?(oe=0,ne=b[P]===u.DIR.INSIDE_EDGE?y[P]:T[0]):ne=T[oe=b[P]];for(L=k;L!==null;)L.index=I,L=L.nextpeer;return{cc:k,count:V}},debug:{drawContour:function(I,Q){var ne,J,oe,F=I.getContext("2d"),D=Q;for(F.strokeStyle="red",F.fillStyle="red",F.lineWidth=1,ne=D!==null?D.insideContours:null;D!==null;){switch(ne!==null?(J=ne,ne=ne.nextpeer):(J=D,ne=(D=D.nextpeer)!==null?D.insideContours:null),J.dir){case u.CONTOUR_DIR.CW_DIR:F.strokeStyle="red";break;case u.CONTOUR_DIR.CCW_DIR:F.strokeStyle="blue";break;case u.CONTOUR_DIR.UNKNOWN_DIR:F.strokeStyle="green"}oe=J.firstVertex,F.beginPath(),F.moveTo(oe.x,oe.y);do oe=oe.next,F.lineTo(oe.x,oe.y);while(oe!==J.firstVertex);F.stroke()}}}}}};w.a=u},function(i,w,e){/* @preserve ASM BEGIN *//* @preserve ASM END */w.a=function(a,u,s){var f=new a.Uint8Array(s),y=u.size|0,b=a.Math.imul;function M(D,A){D|=0,A|=0;var O=0,k=0,L=0,P=0,X=0,T=0,V=0,E=0;for(O=1;(O|0)<(y-1|0);O=O+1|0)for(E=E+y|0,k=1;(k|0)<(y-1|0);k=k+1|0)P=E-y|0,X=E+y|0,T=k-1|0,V=k+1|0,L=(f[D+P+T|0]|0)+(f[D+P+V|0]|0)+(f[D+E+k|0]|0)+(f[D+X+T|0]|0)+(f[D+X+V|0]|0)|0,(L|0)==5?f[A+E+k|0]=1:f[A+E+k|0]=0}function C(D,A,O){D|=0,A|=0,O|=0;var k=0;for(k=b(y,y)|0;(k|0)>0;)k=k-1|0,f[O+k|0]=(f[D+k|0]|0)-(f[A+k|0]|0)|0}function B(D,A,O){D|=0,A|=0,O|=0;var k=0;for(k=b(y,y)|0;(k|0)>0;)k=k-1|0,f[O+k|0]=f[D+k|0]|0|(f[A+k|0]|0)|0}function I(D){D|=0;var A=0,O=0;for(O=b(y,y)|0;(O|0)>0;)O=O-1|0,A=(A|0)+(f[D+O|0]|0)|0;return A|0}function Q(D,A){D|=0,A|=0;var O=0;for(O=b(y,y)|0;(O|0)>0;)O=O-1|0,f[D+O|0]=A}function ne(D,A){D|=0,A|=0;var O=0,k=0,L=0,P=0,X=0,T=0,V=0,E=0;for(O=1;(O|0)<(y-1|0);O=O+1|0)for(E=E+y|0,k=1;(k|0)<(y-1|0);k=k+1|0)P=E-y|0,X=E+y|0,T=k-1|0,V=k+1|0,L=(f[D+P+T|0]|0)+(f[D+P+V|0]|0)+(f[D+E+k|0]|0)+(f[D+X+T|0]|0)+(f[D+X+V|0]|0)|0,(L|0)>0?f[A+E+k|0]=1:f[A+E+k|0]=0}function J(D,A){D|=0,A|=0;var O=0;for(O=b(y,y)|0;(O|0)>0;)O=O-1|0,f[A+O|0]=f[D+O|0]|0}function oe(D){D|=0;var A=0,O=0;for(A=0;(A|0)<(y-1|0);A=A+1|0)f[D+A|0]=0,f[D+O|0]=0,O=O+y-1|0,f[D+O|0]=0,O=O+1|0;for(A=0;(A|0)<(y|0);A=A+1|0)f[D+O|0]=0,O=O+1|0}function F(){var D=0,A=0,O=0,k=0,L=0,P=0;A=b(y,y)|0,O=A+A|0,k=O+A|0,Q(k,0),oe(D);do M(D,A),ne(A,O),C(D,O,O),B(k,O,k),J(A,D),L=I(D)|0,P=(L|0)==0|0;while(!P)}return{skeletonize:F}}},,,,,,,function(i,w,e){i.exports=e(168)},function(i,w,e){var a=e(75),u=e(47),s=e(105),f=e(107),y=e(15),b=e(55),M=e(53);i.exports=function C(B,I,Q,ne,J){B!==I&&s(I,function(oe,F){if(J||(J=new a),y(oe))f(B,I,F,Q,C,ne,J);else{var D=ne?ne(M(B,F),oe,F+"",B,I,J):void 0;D===void 0&&(D=oe),u(B,F,D)}},b)}},function(i,w,e){var a=e(24),u=e(81),s=e(82),f=e(83),y=e(84),b=e(85);function M(C){var B=this.__data__=new a(C);this.size=B.size}M.prototype.clear=u,M.prototype.delete=s,M.prototype.get=f,M.prototype.has=y,M.prototype.set=b,i.exports=M},function(i,w){i.exports=function(){this.__data__=[],this.size=0}},function(i,w,e){var a=e(25),u=Array.prototype.splice;i.exports=function(s){var f=this.__data__,y=a(f,s);return!(y<0)&&(y==f.length-1?f.pop():u.call(f,y,1),--this.size,!0)}},function(i,w,e){var a=e(25);i.exports=function(u){var s=this.__data__,f=a(s,u);return f<0?void 0:s[f][1]}},function(i,w,e){var a=e(25);i.exports=function(u){return a(this.__data__,u)>-1}},function(i,w,e){var a=e(25);i.exports=function(u,s){var f=this.__data__,y=a(f,u);return y<0?(++this.size,f.push([u,s])):f[y][1]=s,this}},function(i,w,e){var a=e(24);i.exports=function(){this.__data__=new a,this.size=0}},function(i,w){i.exports=function(e){var a=this.__data__,u=a.delete(e);return this.size=a.size,u}},function(i,w){i.exports=function(e){return this.__data__.get(e)}},function(i,w){i.exports=function(e){return this.__data__.has(e)}},function(i,w,e){var a=e(24),u=e(43),s=e(46);i.exports=function(f,y){var b=this.__data__;if(b instanceof a){var M=b.__data__;if(!u||M.length<199)return M.push([f,y]),this.size=++b.size,this;b=this.__data__=new s(M)}return b.set(f,y),this.size=b.size,this}},function(i,w,e){var a=e(35),u=e(89),s=e(15),f=e(91),y=/^\[object .+?Constructor\]$/,b=Function.prototype,M=Object.prototype,C=b.toString,B=M.hasOwnProperty,I=RegExp("^"+C.call(B).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");i.exports=function(Q){return!(!s(Q)||u(Q))&&(a(Q)?I:y).test(f(Q))}},function(i,w,e){var a=e(27),u=Object.prototype,s=u.hasOwnProperty,f=u.toString,y=a?a.toStringTag:void 0;i.exports=function(b){var M=s.call(b,y),C=b[y];try{b[y]=void 0;var B=!0}catch{}var I=f.call(b);return B&&(M?b[y]=C:delete b[y]),I}},function(i,w){var e=Object.prototype.toString;i.exports=function(a){return e.call(a)}},function(i,w,e){var a,u=e(90),s=(a=/[^.]+$/.exec(u&&u.keys&&u.keys.IE_PROTO||""))?"Symbol(src)_1."+a:"";i.exports=function(f){return!!s&&s in f}},function(i,w,e){var a=e(19)["__core-js_shared__"];i.exports=a},function(i,w){var e=Function.prototype.toString;i.exports=function(a){if(a!=null){try{return e.call(a)}catch{}try{return a+""}catch{}}return""}},function(i,w){i.exports=function(e,a){return e==null?void 0:e[a]}},function(i,w,e){var a=e(94),u=e(24),s=e(43);i.exports=function(){this.size=0,this.__data__={hash:new a,map:new(s||u),string:new a}}},function(i,w,e){var a=e(95),u=e(96),s=e(97),f=e(98),y=e(99);function b(M){var C=-1,B=M==null?0:M.length;for(this.clear();++C<B;){var I=M[C];this.set(I[0],I[1])}}b.prototype.clear=a,b.prototype.delete=u,b.prototype.get=s,b.prototype.has=f,b.prototype.set=y,i.exports=b},function(i,w,e){var a=e(28);i.exports=function(){this.__data__=a?a(null):{},this.size=0}},function(i,w){i.exports=function(e){var a=this.has(e)&&delete this.__data__[e];return this.size-=a?1:0,a}},function(i,w,e){var a=e(28),u=Object.prototype.hasOwnProperty;i.exports=function(s){var f=this.__data__;if(a){var y=f[s];return y==="__lodash_hash_undefined__"?void 0:y}return u.call(f,s)?f[s]:void 0}},function(i,w,e){var a=e(28),u=Object.prototype.hasOwnProperty;i.exports=function(s){var f=this.__data__;return a?f[s]!==void 0:u.call(f,s)}},function(i,w,e){var a=e(28);i.exports=function(u,s){var f=this.__data__;return this.size+=this.has(u)?0:1,f[u]=a&&s===void 0?"__lodash_hash_undefined__":s,this}},function(i,w,e){var a=e(29);i.exports=function(u){var s=a(this,u).delete(u);return this.size-=s?1:0,s}},function(i,w){i.exports=function(e){var a=typeof e;return a=="string"||a=="number"||a=="symbol"||a=="boolean"?e!=="__proto__":e===null}},function(i,w,e){var a=e(29);i.exports=function(u){return a(this,u).get(u)}},function(i,w,e){var a=e(29);i.exports=function(u){return a(this,u).has(u)}},function(i,w,e){var a=e(29);i.exports=function(u,s){var f=a(this,u),y=f.size;return f.set(u,s),this.size+=f.size==y?0:1,this}},function(i,w,e){var a=e(106)();i.exports=a},function(i,w){i.exports=function(e){return function(a,u,s){for(var f=-1,y=Object(a),b=s(a),M=b.length;M--;){var C=b[e?M:++f];if(u(y[C],C,y)===!1)break}return a}}},function(i,w,e){var a=e(47),u=e(108),s=e(109),f=e(112),y=e(113),b=e(30),M=e(16),C=e(117),B=e(51),I=e(35),Q=e(15),ne=e(119),J=e(52),oe=e(53),F=e(123);i.exports=function(D,A,O,k,L,P,X){var T=oe(D,O),V=oe(A,O),E=X.get(V);if(E)a(D,O,E);else{var G=P?P(T,V,O+"",D,A,X):void 0,Z=G===void 0;if(Z){var K=M(V),$=!K&&B(V),ae=!K&&!$&&J(V);G=V,K||$||ae?M(T)?G=T:C(T)?G=f(T):$?(Z=!1,G=u(V,!0)):ae?(Z=!1,G=s(V,!0)):G=[]:ne(V)||b(V)?(G=T,b(T)?G=F(T):Q(T)&&!I(T)||(G=y(V))):Z=!1}Z&&(X.set(V,G),L(G,V,k,P,X),X.delete(V)),a(D,O,G)}}},function(i,w,e){(function(a){var u=e(19),s=w&&!w.nodeType&&w,f=s&&typeof a=="object"&&a&&!a.nodeType&&a,y=f&&f.exports===s?u.Buffer:void 0,b=y?y.allocUnsafe:void 0;a.exports=function(M,C){if(C)return M.slice();var B=M.length,I=b?b(B):new M.constructor(B);return M.copy(I),I}}).call(this,e(37)(i))},function(i,w,e){var a=e(110);i.exports=function(u,s){var f=s?a(u.buffer):u.buffer;return new u.constructor(f,u.byteOffset,u.length)}},function(i,w,e){var a=e(111);i.exports=function(u){var s=new u.constructor(u.byteLength);return new a(s).set(new a(u)),s}},function(i,w,e){var a=e(19).Uint8Array;i.exports=a},function(i,w){i.exports=function(e,a){var u=-1,s=e.length;for(a||(a=Array(s));++u<s;)a[u]=e[u];return a}},function(i,w,e){var a=e(114),u=e(49),s=e(50);i.exports=function(f){return typeof f.constructor!="function"||s(f)?{}:a(u(f))}},function(i,w,e){var a=e(15),u=Object.create,s=function(){function f(){}return function(y){if(!a(y))return{};if(u)return u(y);f.prototype=y;var b=new f;return f.prototype=void 0,b}}();i.exports=s},function(i,w){i.exports=function(e,a){return function(u){return e(a(u))}}},function(i,w,e){var a=e(22),u=e(20);i.exports=function(s){return u(s)&&a(s)=="[object Arguments]"}},function(i,w,e){var a=e(38),u=e(20);i.exports=function(s){return u(s)&&a(s)}},function(i,w){i.exports=function(){return!1}},function(i,w,e){var a=e(22),u=e(49),s=e(20),f=Function.prototype,y=Object.prototype,b=f.toString,M=y.hasOwnProperty,C=b.call(Object);i.exports=function(B){if(!s(B)||a(B)!="[object Object]")return!1;var I=u(B);if(I===null)return!0;var Q=M.call(I,"constructor")&&I.constructor;return typeof Q=="function"&&Q instanceof Q&&b.call(Q)==C}},function(i,w,e){var a=e(22),u=e(39),s=e(20),f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f["[object Arguments]"]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f["[object Function]"]=f["[object Map]"]=f["[object Number]"]=f["[object Object]"]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1,i.exports=function(y){return s(y)&&u(y.length)&&!!f[a(y)]}},function(i,w){i.exports=function(e){return function(a){return e(a)}}},function(i,w,e){(function(a){var u=e(44),s=w&&!w.nodeType&&w,f=s&&typeof a=="object"&&a&&!a.nodeType&&a,y=f&&f.exports===s&&u.process,b=function(){try{var M=f&&f.require&&f.require("util").types;return M||y&&y.binding&&y.binding("util")}catch{}}();a.exports=b}).call(this,e(37)(i))},function(i,w,e){var a=e(124),u=e(55);i.exports=function(s){return a(s,u(s))}},function(i,w,e){var a=e(54),u=e(36);i.exports=function(s,f,y,b){var M=!y;y||(y={});for(var C=-1,B=f.length;++C<B;){var I=f[C],Q=b?b(y[I],s[I],I,y,s):void 0;Q===void 0&&(Q=s[I]),M?u(y,I,Q):a(y,I,Q)}return y}},function(i,w,e){var a=e(126),u=e(30),s=e(16),f=e(51),y=e(31),b=e(52),M=Object.prototype.hasOwnProperty;i.exports=function(C,B){var I=s(C),Q=!I&&u(C),ne=!I&&!Q&&f(C),J=!I&&!Q&&!ne&&b(C),oe=I||Q||ne||J,F=oe?a(C.length,String):[],D=F.length;for(var A in C)!B&&!M.call(C,A)||oe&&(A=="length"||ne&&(A=="offset"||A=="parent")||J&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||y(A,D))||F.push(A);return F}},function(i,w){i.exports=function(e,a){for(var u=-1,s=Array(e);++u<e;)s[u]=a(u);return s}},function(i,w,e){var a=e(15),u=e(50),s=e(128),f=Object.prototype.hasOwnProperty;i.exports=function(y){if(!a(y))return s(y);var b=u(y),M=[];for(var C in y)(C!="constructor"||!b&&f.call(y,C))&&M.push(C);return M}},function(i,w){i.exports=function(e){var a=[];if(e!=null)for(var u in Object(e))a.push(u);return a}},function(i,w,e){var a=e(130),u=e(135);i.exports=function(s){return a(function(f,y){var b=-1,M=y.length,C=M>1?y[M-1]:void 0,B=M>2?y[2]:void 0;for(C=s.length>3&&typeof C=="function"?(M--,C):void 0,B&&u(y[0],y[1],B)&&(C=M<3?void 0:C,M=1),f=Object(f);++b<M;){var I=y[b];I&&s(f,I,b,C)}return f})}},function(i,w,e){var a=e(56),u=e(57),s=e(58);i.exports=function(f,y){return s(u(f,y,a),f+"")}},function(i,w){i.exports=function(e,a,u){switch(u.length){case 0:return e.call(a);case 1:return e.call(a,u[0]);case 2:return e.call(a,u[0],u[1]);case 3:return e.call(a,u[0],u[1],u[2])}return e.apply(a,u)}},function(i,w,e){var a=e(133),u=e(48),s=e(56),f=u?function(y,b){return u(y,"toString",{configurable:!0,enumerable:!1,value:a(b),writable:!0})}:s;i.exports=f},function(i,w){i.exports=function(e){return function(){return e}}},function(i,w){var e=Date.now;i.exports=function(a){var u=0,s=0;return function(){var f=e(),y=16-(f-s);if(s=f,y>0){if(++u>=800)return arguments[0]}else u=0;return a.apply(void 0,arguments)}}},function(i,w,e){var a=e(26),u=e(38),s=e(31),f=e(15);i.exports=function(y,b,M){if(!f(M))return!1;var C=typeof b;return!!(C=="number"?u(M)&&s(b,M.length):C=="string"&&b in M)&&a(M[b],y)}},function(i,w){typeof window<"u"&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)})),typeof Math.imul!="function"&&(Math.imul=function(e,a){var u=65535&e,s=65535&a;return u*s+((e>>>16&65535)*s+u*(a>>>16&65535)<<16>>>0)|0}),typeof Object.assign!="function"&&(Object.assign=function(e){if(e===null)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),u=1;u<arguments.length;u++){var s=arguments[u];if(s!==null)for(var f in s)Object.prototype.hasOwnProperty.call(s,f)&&(a[f]=s[f])}return a})},function(i,w){i.exports=function(e){if(Array.isArray(e))return e},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e,a){var u=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(u!=null){var s,f,y,b,M=[],C=!0,B=!1;try{if(y=(u=u.call(e)).next,a===0){if(Object(u)!==u)return;C=!1}else for(;!(C=(s=y.call(u)).done)&&(M.push(s.value),M.length!==a);C=!0);}catch(I){B=!0,f=I}finally{try{if(!C&&u.return!=null&&(b=u.return(),Object(b)!==b))return}finally{if(B)throw f}}return M}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(13).default;i.exports=function(u,s){if(a(u)!=="object"||u===null)return u;var f=u[Symbol.toPrimitive];if(f!==void 0){var y=f.call(u,s||"default");if(a(y)!=="object")return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return(s==="string"?String:Number)(u)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(13).default;function u(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */i.exports=u=function(){return f},i.exports.__esModule=!0,i.exports.default=i.exports;var s,f={},y=Object.prototype,b=y.hasOwnProperty,M=Object.defineProperty||function(z,U,W){z[U]=W.value},C=typeof Symbol=="function"?Symbol:{},B=C.iterator||"@@iterator",I=C.asyncIterator||"@@asyncIterator",Q=C.toStringTag||"@@toStringTag";function ne(z,U,W){return Object.defineProperty(z,U,{value:W,enumerable:!0,configurable:!0,writable:!0}),z[U]}try{ne({},"")}catch{ne=function(U,W,ce){return U[W]=ce}}function J(z,U,W,ce){var ue=U&&U.prototype instanceof k?U:k,he=Object.create(ue.prototype),ge=new te(ce||[]);return M(he,"_invoke",{value:K(z,W,ge)}),he}function oe(z,U,W){try{return{type:"normal",arg:z.call(U,W)}}catch(ce){return{type:"throw",arg:ce}}}f.wrap=J;var F="suspendedStart",D="executing",A="completed",O={};function k(){}function L(){}function P(){}var X={};ne(X,B,function(){return this});var T=Object.getPrototypeOf,V=T&&T(T(fe([])));V&&V!==y&&b.call(V,B)&&(X=V);var E=P.prototype=k.prototype=Object.create(X);function G(z){["next","throw","return"].forEach(function(U){ne(z,U,function(W){return this._invoke(U,W)})})}function Z(z,U){function W(ue,he,ge,ye){var xe=oe(z[ue],z,he);if(xe.type!=="throw"){var we=xe.arg,Me=we.value;return Me&&a(Me)=="object"&&b.call(Me,"__await")?U.resolve(Me.__await).then(function(Re){W("next",Re,ge,ye)},function(Re){W("throw",Re,ge,ye)}):U.resolve(Me).then(function(Re){we.value=Re,ge(we)},function(Re){return W("throw",Re,ge,ye)})}ye(xe.arg)}var ce;M(this,"_invoke",{value:function(ue,he){function ge(){return new U(function(ye,xe){W(ue,he,ye,xe)})}return ce=ce?ce.then(ge,ge):ge()}})}function K(z,U,W){var ce=F;return function(ue,he){if(ce===D)throw new Error("Generator is already running");if(ce===A){if(ue==="throw")throw he;return{value:s,done:!0}}for(W.method=ue,W.arg=he;;){var ge=W.delegate;if(ge){var ye=$(ge,W);if(ye){if(ye===O)continue;return ye}}if(W.method==="next")W.sent=W._sent=W.arg;else if(W.method==="throw"){if(ce===F)throw ce=A,W.arg;W.dispatchException(W.arg)}else W.method==="return"&&W.abrupt("return",W.arg);ce=D;var xe=oe(z,U,W);if(xe.type==="normal"){if(ce=W.done?A:"suspendedYield",xe.arg===O)continue;return{value:xe.arg,done:W.done}}xe.type==="throw"&&(ce=A,W.method="throw",W.arg=xe.arg)}}}function $(z,U){var W=U.method,ce=z.iterator[W];if(ce===s)return U.delegate=null,W==="throw"&&z.iterator.return&&(U.method="return",U.arg=s,$(z,U),U.method==="throw")||W!=="return"&&(U.method="throw",U.arg=new TypeError("The iterator does not provide a '"+W+"' method")),O;var ue=oe(ce,z.iterator,U.arg);if(ue.type==="throw")return U.method="throw",U.arg=ue.arg,U.delegate=null,O;var he=ue.arg;return he?he.done?(U[z.resultName]=he.value,U.next=z.nextLoc,U.method!=="return"&&(U.method="next",U.arg=s),U.delegate=null,O):he:(U.method="throw",U.arg=new TypeError("iterator result is not an object"),U.delegate=null,O)}function ae(z){var U={tryLoc:z[0]};1 in z&&(U.catchLoc=z[1]),2 in z&&(U.finallyLoc=z[2],U.afterLoc=z[3]),this.tryEntries.push(U)}function ee(z){var U=z.completion||{};U.type="normal",delete U.arg,z.completion=U}function te(z){this.tryEntries=[{tryLoc:"root"}],z.forEach(ae,this),this.reset(!0)}function fe(z){if(z||z===""){var U=z[B];if(U)return U.call(z);if(typeof z.next=="function")return z;if(!isNaN(z.length)){var W=-1,ce=function ue(){for(;++W<z.length;)if(b.call(z,W))return ue.value=z[W],ue.done=!1,ue;return ue.value=s,ue.done=!0,ue};return ce.next=ce}}throw new TypeError(a(z)+" is not iterable")}return L.prototype=P,M(E,"constructor",{value:P,configurable:!0}),M(P,"constructor",{value:L,configurable:!0}),L.displayName=ne(P,Q,"GeneratorFunction"),f.isGeneratorFunction=function(z){var U=typeof z=="function"&&z.constructor;return!!U&&(U===L||(U.displayName||U.name)==="GeneratorFunction")},f.mark=function(z){return Object.setPrototypeOf?Object.setPrototypeOf(z,P):(z.__proto__=P,ne(z,Q,"GeneratorFunction")),z.prototype=Object.create(E),z},f.awrap=function(z){return{__await:z}},G(Z.prototype),ne(Z.prototype,I,function(){return this}),f.AsyncIterator=Z,f.async=function(z,U,W,ce,ue){ue===void 0&&(ue=Promise);var he=new Z(J(z,U,W,ce),ue);return f.isGeneratorFunction(U)?he:he.next().then(function(ge){return ge.done?ge.value:he.next()})},G(E),ne(E,Q,"Generator"),ne(E,B,function(){return this}),ne(E,"toString",function(){return"[object Generator]"}),f.keys=function(z){var U=Object(z),W=[];for(var ce in U)W.push(ce);return W.reverse(),function ue(){for(;W.length;){var he=W.pop();if(he in U)return ue.value=he,ue.done=!1,ue}return ue.done=!0,ue}},f.values=fe,te.prototype={constructor:te,reset:function(z){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(ee),!z)for(var U in this)U.charAt(0)==="t"&&b.call(this,U)&&!isNaN(+U.slice(1))&&(this[U]=s)},stop:function(){this.done=!0;var z=this.tryEntries[0].completion;if(z.type==="throw")throw z.arg;return this.rval},dispatchException:function(z){if(this.done)throw z;var U=this;function W(xe,we){return he.type="throw",he.arg=z,U.next=xe,we&&(U.method="next",U.arg=s),!!we}for(var ce=this.tryEntries.length-1;ce>=0;--ce){var ue=this.tryEntries[ce],he=ue.completion;if(ue.tryLoc==="root")return W("end");if(ue.tryLoc<=this.prev){var ge=b.call(ue,"catchLoc"),ye=b.call(ue,"finallyLoc");if(ge&&ye){if(this.prev<ue.catchLoc)return W(ue.catchLoc,!0);if(this.prev<ue.finallyLoc)return W(ue.finallyLoc)}else if(ge){if(this.prev<ue.catchLoc)return W(ue.catchLoc,!0)}else{if(!ye)throw new Error("try statement without catch or finally");if(this.prev<ue.finallyLoc)return W(ue.finallyLoc)}}}},abrupt:function(z,U){for(var W=this.tryEntries.length-1;W>=0;--W){var ce=this.tryEntries[W];if(ce.tryLoc<=this.prev&&b.call(ce,"finallyLoc")&&this.prev<ce.finallyLoc){var ue=ce;break}}ue&&(z==="break"||z==="continue")&&ue.tryLoc<=U&&U<=ue.finallyLoc&&(ue=null);var he=ue?ue.completion:{};return he.type=z,he.arg=U,ue?(this.method="next",this.next=ue.finallyLoc,O):this.complete(he)},complete:function(z,U){if(z.type==="throw")throw z.arg;return z.type==="break"||z.type==="continue"?this.next=z.arg:z.type==="return"?(this.rval=this.arg=z.arg,this.method="return",this.next="end"):z.type==="normal"&&U&&(this.next=U),O},finish:function(z){for(var U=this.tryEntries.length-1;U>=0;--U){var W=this.tryEntries[U];if(W.finallyLoc===z)return this.complete(W.completion,W.afterLoc),ee(W),O}},catch:function(z){for(var U=this.tryEntries.length-1;U>=0;--U){var W=this.tryEntries[U];if(W.tryLoc===z){var ce=W.completion;if(ce.type==="throw"){var ue=ce.arg;ee(W)}return ue}}throw new Error("illegal catch attempt")},delegateYield:function(z,U,W){return this.delegate={iterator:fe(z),resultName:U,nextLoc:W},this.method==="next"&&(this.arg=s),O}},f}i.exports=u,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(2);i.exports=function(u,s){for(;!Object.prototype.hasOwnProperty.call(u,s)&&(u=a(u))!==null;);return u},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(60);i.exports=function(u){if(Array.isArray(u))return a(u)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(147),u=e(157);i.exports=function(s,f){return a(s,f,function(y,b){return u(s,b)})}},function(i,w,e){var a=e(148),u=e(156),s=e(32);i.exports=function(f,y,b){for(var M=-1,C=y.length,B={};++M<C;){var I=y[M],Q=a(f,I);b(Q,I)&&u(B,s(I,f),Q)}return B}},function(i,w,e){var a=e(32),u=e(42);i.exports=function(s,f){for(var y=0,b=(f=a(f,s)).length;s!=null&&y<b;)s=s[u(f[y++])];return y&&y==b?s:void 0}},function(i,w,e){var a=e(16),u=e(41),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/;i.exports=function(y,b){if(a(y))return!1;var M=typeof y;return!(M!="number"&&M!="symbol"&&M!="boolean"&&y!=null&&!u(y))||f.test(y)||!s.test(y)||b!=null&&y in Object(b)}},function(i,w,e){var a=e(151),u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,f=a(function(y){var b=[];return y.charCodeAt(0)===46&&b.push(""),y.replace(u,function(M,C,B,I){b.push(B?I.replace(s,"$1"):C||M)}),b});i.exports=f},function(i,w,e){var a=e(152);i.exports=function(u){var s=a(u,function(y){return f.size===500&&f.clear(),y}),f=s.cache;return s}},function(i,w,e){var a=e(46);function u(s,f){if(typeof s!="function"||f!=null&&typeof f!="function")throw new TypeError("Expected a function");var y=function(){var b=arguments,M=f?f.apply(this,b):b[0],C=y.cache;if(C.has(M))return C.get(M);var B=s.apply(this,b);return y.cache=C.set(M,B)||C,B};return y.cache=new(u.Cache||a),y}u.Cache=a,i.exports=u},function(i,w,e){var a=e(154);i.exports=function(u){return u==null?"":a(u)}},function(i,w,e){var a=e(27),u=e(155),s=e(16),f=e(41),y=a?a.prototype:void 0,b=y?y.toString:void 0;i.exports=function M(C){if(typeof C=="string")return C;if(s(C))return u(C,M)+"";if(f(C))return b?b.call(C):"";var B=C+"";return B=="0"&&1/C==-1/0?"-0":B}},function(i,w){i.exports=function(e,a){for(var u=-1,s=e==null?0:e.length,f=Array(s);++u<s;)f[u]=a(e[u],u,e);return f}},function(i,w,e){var a=e(54),u=e(32),s=e(31),f=e(15),y=e(42);i.exports=function(b,M,C,B){if(!f(b))return b;for(var I=-1,Q=(M=u(M,b)).length,ne=Q-1,J=b;J!=null&&++I<Q;){var oe=y(M[I]),F=C;if(oe==="__proto__"||oe==="constructor"||oe==="prototype")return b;if(I!=ne){var D=J[oe];(F=B?B(D,oe,J):void 0)===void 0&&(F=f(D)?D:s(M[I+1])?[]:{})}a(J,oe,F),J=J[oe]}return b}},function(i,w,e){var a=e(158),u=e(159);i.exports=function(s,f){return s!=null&&u(s,f,a)}},function(i,w){i.exports=function(e,a){return e!=null&&a in Object(e)}},function(i,w,e){var a=e(32),u=e(30),s=e(16),f=e(31),y=e(39),b=e(42);i.exports=function(M,C,B){for(var I=-1,Q=(C=a(C,M)).length,ne=!1;++I<Q;){var J=b(C[I]);if(!(ne=M!=null&&B(M,J)))break;M=M[J]}return ne||++I!=Q?ne:!!(Q=M==null?0:M.length)&&y(Q)&&f(J,Q)&&(s(M)||u(M))}},function(i,w,e){var a=e(161),u=e(57),s=e(58);i.exports=function(f){return s(u(f,void 0,a),f+"")}},function(i,w,e){var a=e(162);i.exports=function(u){return u!=null&&u.length?a(u,1):[]}},function(i,w,e){var a=e(163),u=e(164);i.exports=function s(f,y,b,M,C){var B=-1,I=f.length;for(b||(b=u),C||(C=[]);++B<I;){var Q=f[B];y>0&&b(Q)?y>1?s(Q,y-1,b,M,C):a(C,Q):M||(C[C.length]=Q)}return C}},function(i,w){i.exports=function(e,a){for(var u=-1,s=a.length,f=e.length;++u<s;)e[f+u]=a[u];return e}},function(i,w,e){var a=e(27),u=e(30),s=e(16),f=a?a.isConcatSpreadable:void 0;i.exports=function(y){return s(y)||u(y)||!!(f&&y&&y[f])}},function(i,w){i.exports=function(e){try{return Function.toString.call(e).indexOf("[native code]")!==-1}catch{return typeof e=="function"}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){var a=e(40),u=e(167);function s(f,y,b){return u()?(i.exports=s=Reflect.construct.bind(),i.exports.__esModule=!0,i.exports.default=i.exports):(i.exports=s=function(M,C,B){var I=[null];I.push.apply(I,C);var Q=new(Function.bind.apply(M,I));return B&&a(Q,B.prototype),Q},i.exports.__esModule=!0,i.exports.default=i.exports),s.apply(null,arguments)}i.exports=s,i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w){i.exports=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}},i.exports.__esModule=!0,i.exports.default=i.exports},function(i,w,e){e.r(w),e.d(w,"BarcodeDecoder",function(){return $e}),e.d(w,"Readers",function(){return a}),e.d(w,"CameraAccess",function(){return We}),e.d(w,"ImageDebug",function(){return Q.a}),e.d(w,"ImageWrapper",function(){return b.a}),e.d(w,"ResultCollector",function(){return Et});var a={};e.r(a),e.d(a,"BarcodeReader",function(){return K}),e.d(a,"TwoOfFiveReader",function(){return z}),e.d(a,"NewCodabarReader",function(){return he}),e.d(a,"Code128Reader",function(){return ye}),e.d(a,"Code32Reader",function(){return nt}),e.d(a,"Code39Reader",function(){return Fe}),e.d(a,"Code39VINReader",function(){return He}),e.d(a,"Code93Reader",function(){return ct}),e.d(a,"EAN2Reader",function(){return ht}),e.d(a,"EAN5Reader",function(){return pt}),e.d(a,"EAN8Reader",function(){return vt}),e.d(a,"EANReader",function(){return ke}),e.d(a,"I2of5Reader",function(){return gt}),e.d(a,"UPCEReader",function(){return mt}),e.d(a,"UPCReader",function(){return xt});var u=e(13),s=e.n(u),f=e(18),y=e.n(f),b=(e(136),e(11)),M=e(12),C=e.n(M),B=e(8),I=e.n(B),Q=e(17),ne=e(3),J=e.n(ne),oe=e(4),F=e.n(oe),D=e(1),A=e.n(D),O=e(7),k=e.n(O),L=e(6),P=e.n(L),X=e(2),T=e.n(X),V=e(0),E=e.n(V),G=e(9),Z=function(h){return h[h.Forward=1]="Forward",h[h.Reverse=-1]="Reverse",h}({}),K=function(){function h(x,l){J()(this,h),E()(this,"_row",[]),E()(this,"config",{}),E()(this,"supplements",[]),E()(this,"SINGLE_CODE_ERROR",0),E()(this,"FORMAT","unknown"),E()(this,"CONFIG_KEYS",{}),this._row=[],this.config=x||{},l&&(this.supplements=l)}return F()(h,[{key:"_nextUnset",value:function(x){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=l;t<x.length;t++)if(!x[t])return t;return x.length}},{key:"_matchPattern",value:function(x,l){for(var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.SINGLE_CODE_ERROR||1,r=0,n=0,c=0,p=0,v=0,g=0,_=0,R=0;R<x.length;R++)c+=x[R],p+=l[R];if(c<p)return Number.MAX_VALUE;t*=v=c/p;for(var H=0;H<x.length;H++){if(g=x[H],_=l[H]*v,(n=Math.abs(g-_)/_)>t)return Number.MAX_VALUE;r+=n}return r/p}},{key:"_nextSet",value:function(x){for(var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=l;t<x.length;t++)if(x[t])return t;return x.length}},{key:"_correctBars",value:function(x,l,t){for(var r=t.length,n=0;r--;)(n=x[t[r]]*(1-(1-l)/2))>1&&(x[t[r]]=n)}},{key:"decodePattern",value:function(x){this._row=x;var l=this.decode();return l===null?(this._row.reverse(),(l=this.decode())&&(l.direction=Z.Reverse,l.start=this._row.length-l.start,l.end=this._row.length-l.end)):l.direction=Z.Forward,l&&(l.format=this.FORMAT),l}},{key:"_matchRange",value:function(x,l,t){var r;for(r=x=x<0?0:x;r<l;r++)if(this._row[r]!==t)return!1;return!0}},{key:"_fillCounters",value:function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._nextUnset(this._row),l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._row.length,t=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=[],n=0;r[n]=0;for(var c=x;c<l;c++)this._row[c]^(t?1:0)?r[n]++:(r[++n]=1,t=!t);return r}},{key:"_toCounters",value:function(x,l){var t=l.length,r=this._row.length,n=!this._row[x],c=0;G.a.init(l,0);for(var p=x;p<r;p++)if(this._row[p]^(n?1:0))l[c]++;else{if(++c===t)break;l[c]=1,n=!n}return l}},{key:"decodeImage",value:function(x){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),h}();function $(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var ae=[3,1,3,1,1,1],ee=[3,1,1,1,3],te=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],fe=ae.reduce(function(h,x){return h+x},0),z=function(h){k()(l,h);var x=$(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"barSpaceRatio",[1,1]),E()(A()(t),"FORMAT","2of5"),E()(A()(t),"SINGLE_CODE_ERROR",.78),E()(A()(t),"AVG_CODE_ERROR",.3),t}return F()(l,[{key:"_findPattern",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],p=[],v=0,g={error:Number.MAX_VALUE,code:-1,start:0,end:0},_=0,R=0,H=this.AVG_CODE_ERROR;r||(r=this._nextSet(this._row));for(var N=0;N<t.length;N++)p[N]=0;for(var Y=r;Y<this._row.length;Y++)if(this._row[Y]^(n?1:0))p[v]++;else{if(v===p.length-1){_=0;for(var ie=0;ie<p.length;ie++)_+=p[ie];if((R=this._matchPattern(p,t))<H)return g.error=R,g.start=Y-_,g.end=Y,g;if(!c)return null;for(var de=0;de<p.length-2;de++)p[de]=p[de+2];p[p.length-2]=0,p[p.length-1]=0,v--}else v++;p[v]=1,n=!n}return null}},{key:"_findStart",value:function(){for(var t=null,r=this._nextSet(this._row),n=1,c=0;!t;){if(!(t=this._findPattern(ae,r,!1,!0)))return null;if(n=Math.floor((t.end-t.start)/fe),(c=t.start-5*n)>=0&&this._matchRange(c,t.start,0))return t;r=t.end,t=null}return t}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start)/2;return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"_findEnd",value:function(){this._row.reverse();var t=this._nextSet(this._row),r=this._findPattern(ee,t,!1,!0);if(this._row.reverse(),r===null)return null;var n=r.start;return r.start=this._row.length-r.end,r.end=this._row.length-n,r!==null?this._verifyTrailingWhitespace(r):null}},{key:"_verifyCounterLength",value:function(t){return t.length%10==0}},{key:"_decodeCode",value:function(t){for(var r=this.AVG_CODE_ERROR,n={error:Number.MAX_VALUE,code:-1,start:0,end:0},c=0;c<te.length;c++){var p=this._matchPattern(t,te[c]);p<n.error&&(n.code=c,n.error=p)}return n.error<r?n:null}},{key:"_decodePayload",value:function(t,r,n){for(var c=0,p=t.length,v=[0,0,0,0,0],g=null;c<p;){for(var _=0;_<5;_++)v[_]=t[c]*this.barSpaceRatio[0],c+=2;if(!(g=this._decodeCode(v)))return null;r.push("".concat(g.code)),n.push(g)}return g}},{key:"decode",value:function(t,r){var n=this._findStart();if(!n)return null;var c=this._findEnd();if(!c)return null;var p=this._fillCounters(n.end,c.start,!1);if(!this._verifyCounterLength(p))return null;var v=[];v.push(n);var g=[];return this._decodePayload(p,g,v)?g.length<5?null:(v.push(c),{code:g.join(""),start:n.start,end:c.end,startInfo:n,decodedCodes:v,format:this.FORMAT}):null}}]),l}(K);function U(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var W=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],ce=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],ue=[26,41,11,14],he=function(h){k()(l,h);var x=U(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"_counters",[]),E()(A()(t),"FORMAT","codabar"),t}return F()(l,[{key:"_computeAlternatingThreshold",value:function(t,r){for(var n=Number.MAX_VALUE,c=0,p=0,v=t;v<r;v+=2)(p=this._counters[v])>c&&(c=p),p<n&&(n=p);return(n+c)/2|0}},{key:"_toPattern",value:function(t){var r=t+7;if(r>this._counters.length)return-1;for(var n=this._computeAlternatingThreshold(t,r),c=this._computeAlternatingThreshold(t+1,r),p=64,v=0,g=0,_=0;_<7;_++)v=1&_?c:n,this._counters[t+_]>v&&(g|=p),p>>=1;return g}},{key:"_isStartEnd",value:function(t){for(var r=0;r<ue.length;r++)if(ue[r]===t)return!0;return!1}},{key:"_sumCounters",value:function(t,r){for(var n=0,c=t;c<r;c++)n+=this._counters[c];return n}},{key:"_findStart",value:function(){for(var t=this._nextUnset(this._row),r=1;r<this._counters.length;r++){var n=this._toPattern(r);if(n!==-1&&this._isStartEnd(n))return{start:t+=this._sumCounters(0,r),end:t+this._sumCounters(r,r+8),startCounter:r,endCounter:r+8}}return null}},{key:"_patternToChar",value:function(t){for(var r=0;r<ce.length;r++)if(ce[r]===t)return String.fromCharCode(W[r]);return null}},{key:"_calculatePatternLength",value:function(t){for(var r=0,n=t;n<t+7;n++)r+=this._counters[n];return r}},{key:"_verifyWhitespace",value:function(t,r){return(t-1<=0||this._counters[t-1]>=this._calculatePatternLength(t)/2)&&(r+8>=this._counters.length||this._counters[r+7]>=this._calculatePatternLength(r)/2)}},{key:"_charToPattern",value:function(t){for(var r=t.charCodeAt(0),n=0;n<W.length;n++)if(W[n]===r)return ce[n];return 0}},{key:"_thresholdResultPattern",value:function(t,r){for(var n,c={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},p=r,v=0;v<t.length;v++){n=this._charToPattern(t[v]);for(var g=6;g>=0;g--){var _=(1&g)==2?c.bar:c.space,R=(1&n)==1?_.wide:_.narrow;R.size+=this._counters[p+g],R.counts++,n>>=1}p+=8}return["space","bar"].forEach(function(H){var N=c[H];N.wide.min=Math.floor((N.narrow.size/N.narrow.counts+N.wide.size/N.wide.counts)/2),N.narrow.max=Math.ceil(N.wide.min),N.wide.max=Math.ceil((2*N.wide.size+1.5)/N.wide.counts)}),c}},{key:"_validateResult",value:function(t,r){for(var n,c=this._thresholdResultPattern(t,r),p=r,v=0;v<t.length;v++){n=this._charToPattern(t[v]);for(var g=6;g>=0;g--){var _=1&g?c.space:c.bar,R=(1&n)==1?_.wide:_.narrow,H=this._counters[p+g];if(H<R.min||H>R.max)return!1;n>>=1}p+=8}return!0}},{key:"decode",value:function(t,r){if(this._counters=this._fillCounters(),!(r=this._findStart()))return null;var n,c=r.startCounter,p=[];do{if((n=this._toPattern(c))<0)return null;var v=this._patternToChar(n);if(v===null)return null;if(p.push(v),c+=8,p.length>1&&this._isStartEnd(n))break}while(c<this._counters.length);if(p.length-2<4||!this._isStartEnd(n)||!this._verifyWhitespace(r.startCounter,c-8)||!this._validateResult(p,r.startCounter))return null;c=c>this._counters.length?this._counters.length:c;var g=r.start+this._sumCounters(r.startCounter,c-8);return{code:p.join(""),start:r.start,end:g,startInfo:r,decodedCodes:p,format:this.FORMAT}}}]),l}(K);function ge(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var ye=function(h){k()(l,h);var x=ge(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"CODE_SHIFT",98),E()(A()(t),"CODE_C",99),E()(A()(t),"CODE_B",100),E()(A()(t),"CODE_A",101),E()(A()(t),"START_CODE_A",103),E()(A()(t),"START_CODE_B",104),E()(A()(t),"START_CODE_C",105),E()(A()(t),"STOP_CODE",106),E()(A()(t),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),E()(A()(t),"SINGLE_CODE_ERROR",.64),E()(A()(t),"AVG_CODE_ERROR",.3),E()(A()(t),"FORMAT","code_128"),E()(A()(t),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),t}return F()(l,[{key:"_decodeCode",value:function(t,r){for(var n={error:Number.MAX_VALUE,code:-1,start:t,end:t,correction:{bar:1,space:1}},c=[0,0,0,0,0,0],p=t,v=!this._row[p],g=0,_=p;_<this._row.length;_++)if(this._row[_]^(v?1:0))c[g]++;else{if(g===c.length-1){r&&this._correct(c,r);for(var R=0;R<this.CODE_PATTERN.length;R++){var H=this._matchPattern(c,this.CODE_PATTERN[R]);H<n.error&&(n.code=R,n.error=H)}return n.end=_,n.code===-1||n.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[n.code]&&(n.correction.bar=this.calculateCorrection(this.CODE_PATTERN[n.code],c,this.MODULE_INDICES.bar),n.correction.space=this.calculateCorrection(this.CODE_PATTERN[n.code],c,this.MODULE_INDICES.space)),n)}c[++g]=1,v=!v}return null}},{key:"_correct",value:function(t,r){this._correctBars(t,r.bar,this.MODULE_INDICES.bar),this._correctBars(t,r.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var t=[0,0,0,0,0,0],r=this._nextSet(this._row),n={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},c=!1,p=0,v=r;v<this._row.length;v++)if(this._row[v]^(c?1:0))t[p]++;else{if(p===t.length-1){for(var g=t.reduce(function(N,Y){return N+Y},0),_=this.START_CODE_A;_<=this.START_CODE_C;_++){var R=this._matchPattern(t,this.CODE_PATTERN[_]);R<n.error&&(n.code=_,n.error=R)}if(n.error<this.AVG_CODE_ERROR)return n.start=v-g,n.end=v,n.correction.bar=this.calculateCorrection(this.CODE_PATTERN[n.code],t,this.MODULE_INDICES.bar),n.correction.space=this.calculateCorrection(this.CODE_PATTERN[n.code],t,this.MODULE_INDICES.space),n;for(var H=0;H<4;H++)t[H]=t[H+2];t[4]=0,t[5]=0,p--}else p++;t[p]=1,c=!c}return null}},{key:"decode",value:function(t,r){var n=this,c=this._findStart();if(c===null)return null;var p={code:c.code,start:c.start,end:c.end,correction:{bar:c.correction.bar,space:c.correction.space}},v=[];v.push(p);for(var g=p.code,_=function(le){switch(le){case n.START_CODE_A:return n.CODE_A;case n.START_CODE_B:return n.CODE_B;case n.START_CODE_C:return n.CODE_C;default:return null}}(p.code),R=!1,H=!1,N=H,Y=!0,ie=0,de=[],ve=[];!R;){if(N=H,H=!1,(p=this._decodeCode(p.end,p.correction))!==null)switch(p.code!==this.STOP_CODE&&(Y=!0),p.code!==this.STOP_CODE&&(de.push(p.code),g+=++ie*p.code),v.push(p),_){case this.CODE_A:if(p.code<64)ve.push(String.fromCharCode(32+p.code));else if(p.code<96)ve.push(String.fromCharCode(p.code-64));else switch(p.code!==this.STOP_CODE&&(Y=!1),p.code){case this.CODE_SHIFT:H=!0,_=this.CODE_B;break;case this.CODE_B:_=this.CODE_B;break;case this.CODE_C:_=this.CODE_C;break;case this.STOP_CODE:R=!0}break;case this.CODE_B:if(p.code<96)ve.push(String.fromCharCode(32+p.code));else switch(p.code!==this.STOP_CODE&&(Y=!1),p.code){case this.CODE_SHIFT:H=!0,_=this.CODE_A;break;case this.CODE_A:_=this.CODE_A;break;case this.CODE_C:_=this.CODE_C;break;case this.STOP_CODE:R=!0}break;case this.CODE_C:if(p.code<100)ve.push(p.code<10?"0"+p.code:p.code);else switch(p.code!==this.STOP_CODE&&(Y=!1),p.code){case this.CODE_A:_=this.CODE_A;break;case this.CODE_B:_=this.CODE_B;break;case this.STOP_CODE:R=!0}}else R=!0;N&&(_=_===this.CODE_A?this.CODE_B:this.CODE_A)}return p===null?null:(p.end=this._nextUnset(this._row,p.end),this._verifyTrailingWhitespace(p)?(g-=ie*de[de.length-1])%103!==de[de.length-1]?null:ve.length?(Y&&ve.splice(ve.length-1,1),{code:ve.join(""),start:c.start,end:p.end,codeset:_,startInfo:c,decodedCodes:v,endInfo:p,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(t){var r;return(r=t.end+(t.end-t.start)/2)<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"calculateCorrection",value:function(t,r,n){for(var c=n.length,p=0,v=0;c--;)v+=t[n[c]],p+=r[n[c]];return v/p}}]),l}(K),xe=e(14),we=e.n(xe),Me=e(33),Re=e.n(Me);function tt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var Dt=new Uint16Array(Re()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(h){return h.charCodeAt(0)})),rt=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Fe=function(h){k()(l,h);var x=tt(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","code_39"),t}return F()(l,[{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),r=t,n=new Uint16Array([0,0,0,0,0,0,0,0,0]),c=0,p=!1,v=t;v<this._row.length;v++)if(this._row[v]^(p?1:0))n[c]++;else{if(c===n.length-1){if(this._toPattern(n)===148){var g=Math.floor(Math.max(0,r-(v-r)/4));if(this._matchRange(g,r,0))return{start:r,end:v}}r+=n[0]+n[1];for(var _=0;_<7;_++)n[_]=n[_+2];n[7]=0,n[8]=0,c--}else c++;n[c]=1,p=!p}return null}},{key:"_toPattern",value:function(t){for(var r=t.length,n=0,c=r,p=0;c>3;){n=this._findNextWidth(t,n),c=0;for(var v=0,g=0;g<r;g++)t[g]>n&&(v|=1<<r-1-g,c++,p+=t[g]);if(c===3){for(var _=0;_<r&&c>0;_++)if(t[_]>n&&(c--,2*t[_]>=p))return-1;return v}}return-1}},{key:"_findNextWidth",value:function(t,r){for(var n=Number.MAX_VALUE,c=0;c<t.length;c++)t[c]<n&&t[c]>r&&(n=t[c]);return n}},{key:"_patternToChar",value:function(t){for(var r=0;r<rt.length;r++)if(rt[r]===t)return String.fromCharCode(Dt[r]);return null}},{key:"_verifyTrailingWhitespace",value:function(t,r,n){var c=G.a.sum(n);return 3*(r-t-c)>=c}},{key:"decode",value:function(){var t=new Uint16Array([0,0,0,0,0,0,0,0,0]),r=[],n=this._findStart();if(!n)return null;var c,p,v=this._nextSet(this._row,n.end);do{t=this._toCounters(v,t);var g=this._toPattern(t);if(g<0||(c=this._patternToChar(g))===null)return null;r.push(c),p=v,v+=G.a.sum(t),v=this._nextSet(this._row,v)}while(c!=="*");return r.pop(),r.length&&this._verifyTrailingWhitespace(p,v,t)?{code:r.join(""),start:n.start,end:v,startInfo:n,decodedCodes:r,format:this.FORMAT}:null}}]),l}(K);function jt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var It=/[AEIO]/g,nt=function(h){k()(l,h);var x=jt(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","code_32_reader"),t}return F()(l,[{key:"_decodeCode32",value:function(t){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(t))return null;for(var r=0,n=0;n<t.length;n++)r=32*r+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(t[n]);var c="".concat(r);return c.length<9&&(c=("000000000"+c).slice(-9)),"A"+c}},{key:"_checkChecksum",value:function(t){return!!t}},{key:"decode",value:function(){var t=we()(T()(l.prototype),"decode",this).call(this);if(!t)return null;var r=t.code;if(!r||(r=r.replace(It,""),!this._checkChecksum(r)))return null;var n=this._decodeCode32(r);return n?(t.code=n,t):null}}]),l}(Fe);function zt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var ot=/[IOQ]/g,at=/[A-Z0-9]{17}/,He=function(h){k()(l,h);var x=zt(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","code_39_vin"),t}return F()(l,[{key:"_checkChecksum",value:function(t){return!!t}},{key:"decode",value:function(){var t=we()(T()(l.prototype),"decode",this).call(this);if(!t)return null;var r=t.code;return r&&(r=r.replace(ot,"")).match(at)&&this._checkChecksum(r)?(t.code=r,t):null}}]),l}(Fe);function ut(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var Xe=new Uint16Array(Re()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(h){return h.charCodeAt(0)})),it=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),ct=function(h){k()(l,h);var x=ut(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","code_93"),t}return F()(l,[{key:"_patternToChar",value:function(t){for(var r=0;r<it.length;r++)if(it[r]===t)return String.fromCharCode(Xe[r]);return null}},{key:"_toPattern",value:function(t){for(var r=t.length,n=t.reduce(function(_,R){return _+R},0),c=0,p=0;p<r;p++){var v=Math.round(9*t[p]/n);if(v<1||v>4)return-1;if(1&p)c<<=v;else for(var g=0;g<v;g++)c=c<<1|1}return c}},{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),r=t,n=new Uint16Array([0,0,0,0,0,0]),c=0,p=!1,v=t;v<this._row.length;v++)if(this._row[v]^(p?1:0))n[c]++;else{if(c===n.length-1){if(this._toPattern(n)===350){var g=Math.floor(Math.max(0,r-(v-r)/4));if(this._matchRange(g,r,0))return{start:r,end:v}}r+=n[0]+n[1];for(var _=0;_<4;_++)n[_]=n[_+2];n[4]=0,n[5]=0,c--}else c++;n[c]=1,p=!p}return null}},{key:"_verifyEnd",value:function(t,r){return!(t===r||!this._row[r])}},{key:"_decodeExtended",value:function(t){for(var r=t.length,n=[],c=0;c<r;c++){var p=t[c];if(p>="a"&&p<="d"){if(c>r-2)return null;var v=t[++c],g=v.charCodeAt(0),_=void 0;switch(p){case"a":if(!(v>="A"&&v<="Z"))return null;_=String.fromCharCode(g-64);break;case"b":if(v>="A"&&v<="E")_=String.fromCharCode(g-38);else if(v>="F"&&v<="J")_=String.fromCharCode(g-11);else if(v>="K"&&v<="O")_=String.fromCharCode(g+16);else if(v>="P"&&v<="S")_=String.fromCharCode(g+43);else{if(!(v>="T"&&v<="Z"))return null;_=""}break;case"c":if(v>="A"&&v<="O")_=String.fromCharCode(g-32);else{if(v!=="Z")return null;_=":"}break;case"d":if(!(v>="A"&&v<="Z"))return null;_=String.fromCharCode(g+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",_),null}n.push(_)}else n.push(p)}return n}},{key:"_matchCheckChar",value:function(t,r,n){var c=t.slice(0,r),p=c.length,v=c.reduce(function(g,_,R){return g+((-1*R+(p-1))%n+1)*Xe.indexOf(_.charCodeAt(0))},0);return Xe[v%47]===t[r].charCodeAt(0)}},{key:"_verifyChecksums",value:function(t){return this._matchCheckChar(t,t.length-2,20)&&this._matchCheckChar(t,t.length-1,15)}},{key:"decode",value:function(t,r){if(!(r=this._findStart()))return null;var n,c,p=new Uint16Array([0,0,0,0,0,0]),v=[],g=this._nextSet(this._row,r.end);do{p=this._toCounters(g,p);var _=this._toPattern(p);if(_<0||(c=this._patternToChar(_))===null)return null;v.push(c),n=g,g+=G.a.sum(p),g=this._nextSet(this._row,g)}while(c!=="*");return v.pop(),v.length&&this._verifyEnd(n,g)&&this._verifyChecksums(v)?(v=v.slice(0,v.length-2),(v=this._decodeExtended(v))===null?null:{code:v.join(""),start:r.start,end:g,startInfo:r,decodedCodes:v,format:this.FORMAT}):null}}]),l}(K);function st(h,x){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);x&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable})),l.push.apply(l,t)}return l}function Qe(h){for(var x=1;x<arguments.length;x++){var l=arguments[x]!=null?arguments[x]:{};x%2?st(Object(l),!0).forEach(function(t){E()(h,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(l)):st(Object(l)).forEach(function(t){Object.defineProperty(h,t,Object.getOwnPropertyDescriptor(l,t))})}return h}function Ut(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var Lt=[1,1,1],ft=[1,1,1,1,1],Nt=[1,1,2],lt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],dt=[0,11,13,14,19,25,28,21,22,26],ke=function(h){k()(l,h);var x=Ut(l);function l(t,r){var n;return J()(this,l),n=x.call(this,y()({supplements:[]},t),r),E()(A()(n),"FORMAT","ean_13"),E()(A()(n),"SINGLE_CODE_ERROR",.7),E()(A()(n),"STOP_PATTERN",[1,1,1]),n}return F()(l,[{key:"_findPattern",value:function(t,r,n,c){var p=new Array(t.length).fill(0),v={error:Number.MAX_VALUE,start:0,end:0},g=0;r||(r=this._nextSet(this._row));for(var _=!1,R=r;R<this._row.length;R++)if(this._row[R]^(n?1:0))p[g]+=1;else{if(g===p.length-1){var H=this._matchPattern(p,t);if(H<.48&&v.error&&H<v.error)return _=!0,v.error=H,v.start=R-p.reduce(function(Y,ie){return Y+ie},0),v.end=R,v;if(c){for(var N=0;N<p.length-2;N++)p[N]=p[N+2];p[p.length-2]=0,p[p.length-1]=0,g--}}else g++;p[g]=1,n=!n}return _?v:null}},{key:"_decodeCode",value:function(t,r){var n=[0,0,0,0],c=t,p={error:Number.MAX_VALUE,code:-1,start:t,end:t},v=!this._row[c],g=0;r||(r=lt.length);for(var _=c;_<this._row.length;_++)if(this._row[_]^(v?1:0))n[g]++;else{if(g===n.length-1){for(var R=0;R<r;R++){var H=this._matchPattern(n,lt[R]);p.end=_,H<p.error&&(p.code=R,p.error=H)}return p.error>.48?null:p}n[++g]=1,v=!v}return null}},{key:"_findStart",value:function(){for(var t=this._nextSet(this._row),r=null;!r;){if(!(r=this._findPattern(Lt,t,!1,!0)))return null;var n=r.start-(r.end-r.start);if(n>=0&&this._matchRange(n,r.start,0))return r;t=r.end,r=null}return null}},{key:"_calculateFirstDigit",value:function(t){for(var r=0;r<dt.length;r++)if(t===dt[r])return r;return null}},{key:"_decodePayload",value:function(t,r,n){for(var c=Qe({},t),p=0,v=0;v<6;v++){if(!(c=this._decodeCode(c.end)))return null;c.code>=10?(c.code-=10,p|=1<<5-v):p|=0<<5-v,r.push(c.code),n.push(c)}var g=this._calculateFirstDigit(p);if(g===null)return null;r.unshift(g);var _=this._findPattern(ft,c.end,!0,!1);if(_===null||!_.end)return null;n.push(_);for(var R=0;R<6;R++){if(!(_=this._decodeCode(_.end,10)))return null;n.push(_),r.push(_.code)}return _}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start);return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"_findEnd",value:function(t,r){var n=this._findPattern(this.STOP_PATTERN,t,r,!1);return n!==null?this._verifyTrailingWhitespace(n):null}},{key:"_checksum",value:function(t){for(var r=0,n=t.length-2;n>=0;n-=2)r+=t[n];r*=3;for(var c=t.length-1;c>=0;c-=2)r+=t[c];return r%10==0}},{key:"_decodeExtensions",value:function(t){var r=this._nextSet(this._row,t),n=this._findPattern(Nt,r,!1,!1);if(n===null)return null;for(var c=0;c<this.supplements.length;c++)try{var p=this.supplements[c].decode(this._row,n.end);if(p!==null)return{code:p.code,start:r,startInfo:n,end:p.end,decodedCodes:p.decodedCodes,format:this.supplements[c].FORMAT}}catch(v){console.error("* decodeExtensions error in ",this.supplements[c],": ",v)}return null}},{key:"decode",value:function(t,r){var n=new Array,c=new Array,p={},v=this._findStart();if(!v)return null;var g={start:v.start,end:v.end};if(c.push(g),!(g=this._decodePayload(g,n,c))||!(g=this._findEnd(g.end,!1))||(c.push(g),!this._checksum(n)))return null;if(this.supplements.length>0){var _=this._decodeExtensions(g.end);if(!_||!_.decodedCodes)return null;var R=_.decodedCodes[_.decodedCodes.length-1],H={start:R.start+((R.end-R.start)/2|0),end:R.end};if(!this._verifyTrailingWhitespace(H))return null;p={supplement:_,code:n.join("")+_.code}}return Qe(Qe({code:n.join(""),start:v.start,end:g.end,startInfo:v,decodedCodes:c},p),{},{format:this.FORMAT})}}]),l}(K);function Ft(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var ht=function(h){k()(l,h);var x=Ft(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","ean_2"),t}return F()(l,[{key:"decode",value:function(t,r){t&&(this._row=t);var n=0,c=r,p=this._row.length,v=[],g=[],_=null;if(c===void 0)return null;for(var R=0;R<2&&c<p;R++){if(!(_=this._decodeCode(c)))return null;g.push(_),v.push(_.code%10),_.code>=10&&(n|=1<<1-R),R!==1&&(c=this._nextSet(this._row,_.end),c=this._nextUnset(this._row,c))}if(v.length!==2||parseInt(v.join(""))%4!==n)return null;var H=this._findStart();return{code:v.join(""),decodedCodes:g,end:_.end,format:this.FORMAT,startInfo:H,start:H.start}}}]),l}(ke);function Bt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var Wt=[24,20,18,17,12,6,3,10,9,5],pt=function(h){k()(l,h);var x=Bt(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","ean_5"),t}return F()(l,[{key:"decode",value:function(t,r){if(r===void 0)return null;t&&(this._row=t);for(var n=0,c=r,p=this._row.length,v=null,g=[],_=[],R=0;R<5&&c<p;R++){if(!(v=this._decodeCode(c)))return null;_.push(v),g.push(v.code%10),v.code>=10&&(n|=1<<4-R),R!==4&&(c=this._nextSet(this._row,v.end),c=this._nextUnset(this._row,c))}if(g.length!==5||function(N){for(var Y=N.length,ie=0,de=Y-2;de>=0;de-=2)ie+=N[de];ie*=3;for(var ve=Y-1;ve>=0;ve-=2)ie+=N[ve];return(ie*=3)%10}(g)!==function(N){for(var Y=0;Y<10;Y++)if(N===Wt[Y])return Y;return null}(n))return null;var H=this._findStart();return{code:g.join(""),decodedCodes:_,end:v.end,format:this.FORMAT,startInfo:H,start:H.start}}}]),l}(ke);function Te(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var vt=function(h){k()(l,h);var x=Te(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","ean_8"),t}return F()(l,[{key:"_decodePayload",value:function(t,r,n){for(var c=t,p=0;p<4;p++){if(!(c=this._decodeCode(c.end,10)))return null;r.push(c.code),n.push(c)}if((c=this._findPattern(ft,c.end,!0,!1))===null)return null;n.push(c);for(var v=0;v<4;v++){if(!(c=this._decodeCode(c.end,10)))return null;n.push(c),r.push(c.code)}return c}}]),l}(ke);function qt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var gt=function(h){k()(l,h);var x=qt(l);function l(t){var r;return J()(this,l),r=x.call(this,y()({normalizeBarSpaceWidth:!1},t)),E()(A()(r),"barSpaceRatio",[1,1]),E()(A()(r),"SINGLE_CODE_ERROR",.78),E()(A()(r),"AVG_CODE_ERROR",.38),E()(A()(r),"START_PATTERN",[1,1,1,1]),E()(A()(r),"STOP_PATTERN",[1,1,3]),E()(A()(r),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),E()(A()(r),"MAX_CORRECTION_FACTOR",5),E()(A()(r),"FORMAT","i2of5"),t.normalizeBarSpaceWidth&&(r.SINGLE_CODE_ERROR=.38,r.AVG_CODE_ERROR=.09),r.config=t,P()(r,A()(r))}return F()(l,[{key:"_matchPattern",value:function(t,r){if(this.config.normalizeBarSpaceWidth){for(var n=[0,0],c=[0,0],p=[0,0],v=this.MAX_CORRECTION_FACTOR,g=1/v,_=0;_<t.length;_++)n[_%2]+=t[_],c[_%2]+=r[_];p[0]=c[0]/n[0],p[1]=c[1]/n[1],p[0]=Math.max(Math.min(p[0],v),g),p[1]=Math.max(Math.min(p[1],v),g),this.barSpaceRatio=p;for(var R=0;R<t.length;R++)t[R]*=this.barSpaceRatio[R%2]}return we()(T()(l.prototype),"_matchPattern",this).call(this,t,r)}},{key:"_findPattern",value:function(t,r){var n=arguments.length>2&&arguments[2]!==void 0&&arguments[2],c=arguments.length>3&&arguments[3]!==void 0&&arguments[3],p=new Array(t.length).fill(0),v=0,g={error:Number.MAX_VALUE,start:0,end:0},_=this.AVG_CODE_ERROR;n=n||!1,c=c||!1,r||(r=this._nextSet(this._row));for(var R=r;R<this._row.length;R++)if(this._row[R]^(n?1:0))p[v]++;else{if(v===p.length-1){var H=p.reduce(function(ie,de){return ie+de},0),N=this._matchPattern(p,t);if(N<_)return g.error=N,g.start=R-H,g.end=R,g;if(!c)return null;for(var Y=0;Y<p.length-2;Y++)p[Y]=p[Y+2];p[p.length-2]=0,p[p.length-1]=0,v--}else v++;p[v]=1,n=!n}return null}},{key:"_findStart",value:function(){for(var t=0,r=this._nextSet(this._row),n=null,c=1;!n;){if(!(n=this._findPattern(this.START_PATTERN,r,!1,!0)))return null;if(c=Math.floor((n.end-n.start)/4),(t=n.start-10*c)>=0&&this._matchRange(t,n.start,0))return n;r=n.end,n=null}return null}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start)/2;return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}},{key:"_findEnd",value:function(){this._row.reverse();var t=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),t===null)return null;var r=t.start;return t.start=this._row.length-t.end,t.end=this._row.length-r,t!==null?this._verifyTrailingWhitespace(t):null}},{key:"_decodePair",value:function(t){for(var r=[],n=0;n<t.length;n++){var c=this._decodeCode(t[n]);if(!c)return null;r.push(c)}return r}},{key:"_decodeCode",value:function(t){for(var r=this.AVG_CODE_ERROR,n={error:Number.MAX_VALUE,code:-1,start:0,end:0},c=0;c<this.CODE_PATTERN.length;c++){var p=this._matchPattern(t,this.CODE_PATTERN[c]);p<n.error&&(n.code=c,n.error=p)}return n.error<r?n:null}},{key:"_decodePayload",value:function(t,r,n){for(var c=0,p=t.length,v=[[0,0,0,0,0],[0,0,0,0,0]],g=null;c<p;){for(var _=0;_<5;_++)v[0][_]=t[c]*this.barSpaceRatio[0],v[1][_]=t[c+1]*this.barSpaceRatio[1],c+=2;if(!(g=this._decodePair(v)))return null;for(var R=0;R<g.length;R++)r.push(g[R].code+""),n.push(g[R])}return g}},{key:"_verifyCounterLength",value:function(t){return t.length%10==0}},{key:"decode",value:function(t,r){var n=new Array,c=new Array,p=this._findStart();if(!p)return null;c.push(p);var v=this._findEnd();if(!v)return null;var g=this._fillCounters(p.end,v.start,!1);return this._verifyCounterLength(g)&&this._decodePayload(g,n,c)?n.length%2!=0||n.length<6?null:(c.push(v),{code:n.join(""),start:p.start,end:v.end,startInfo:p,decodedCodes:c,format:this.FORMAT}):null}}]),l}(K);function yt(h,x){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);x&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable})),l.push.apply(l,t)}return l}function Vt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var mt=function(h){k()(l,h);var x=Vt(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),E()(A()(t),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),E()(A()(t),"FORMAT","upc_e"),t}return F()(l,[{key:"_decodePayload",value:function(t,r,n){for(var c=function(g){for(var _=1;_<arguments.length;_++){var R=arguments[_]!=null?arguments[_]:{};_%2?yt(Object(R),!0).forEach(function(H){E()(g,H,R[H])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(R)):yt(Object(R)).forEach(function(H){Object.defineProperty(g,H,Object.getOwnPropertyDescriptor(R,H))})}return g}({},t),p=0,v=0;v<6;v++){if(!(c=this._decodeCode(c.end)))return null;c.code>=10&&(c.code=c.code-10,p|=1<<5-v),r.push(c.code),n.push(c)}return this._determineParity(p,r)?c:null}},{key:"_determineParity",value:function(t,r){for(var n=0;n<this.CODE_FREQUENCY.length;n++)for(var c=0;c<this.CODE_FREQUENCY[n].length;c++)if(t===this.CODE_FREQUENCY[n][c])return r.unshift(n),r.push(c),!0;return!1}},{key:"_convertToUPCA",value:function(t){var r=[t[0]],n=t[t.length-2];return(r=n<=2?r.concat(t.slice(1,3)).concat([n,0,0,0,0]).concat(t.slice(3,6)):n===3?r.concat(t.slice(1,4)).concat([0,0,0,0,0]).concat(t.slice(4,6)):n===4?r.concat(t.slice(1,5)).concat([0,0,0,0,0,t[5]]):r.concat(t.slice(1,6)).concat([0,0,0,0,n])).push(t[t.length-1]),r}},{key:"_checksum",value:function(t){return we()(T()(l.prototype),"_checksum",this).call(this,this._convertToUPCA(t))}},{key:"_findEnd",value:function(t,r){return we()(T()(l.prototype),"_findEnd",this).call(this,t,!0)}},{key:"_verifyTrailingWhitespace",value:function(t){var r=t.end+(t.end-t.start)/2;return r<this._row.length&&this._matchRange(t.end,r,0)?t:null}}]),l}(ke);function Gt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var xt=function(h){k()(l,h);var x=Gt(l);function l(){var t;J()(this,l);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return t=x.call.apply(x,[this].concat(n)),E()(A()(t),"FORMAT","upc_a"),t}return F()(l,[{key:"decode",value:function(t,r){var n=ke.prototype.decode.call(this);return n&&n.code&&n.code.length===13&&n.code.charAt(0)==="0"?(n.code=n.code.substring(1),n):null}}]),l}(ke),Ie={},Be={UP:1,DOWN:-1};Ie.getBarcodeLine=function(h,x,l){var t,r,n,c,p,v=0|x.x,g=0|x.y,_=0|l.x,R=0|l.y,H=Math.abs(R-g)>Math.abs(_-v),N=[],Y=h.data,ie=h.size.x,de=255,ve=0;function le(Ne,hr){p=Y[hr*ie+Ne],de=p<de?p:de,ve=p>ve?p:ve,N.push(p)}H&&(n=v,v=g,g=n,n=_,_=R,R=n),v>_&&(n=v,v=_,_=n,n=g,g=R,R=n);var me=_-v,be=Math.abs(R-g);t=me/2|0,r=g;var Ee=g<R?1:-1;for(c=v;c<_;c++)H?le(r,c):le(c,r),(t-=be)<0&&(r+=Ee,t+=me);return{line:N,min:de,max:ve}},Ie.toBinaryLine=function(h){var x,l,t,r,n,c,p=h.min,v=h.max,g=h.line,_=p+(v-p)/2,R=[],H=(v-p)/12,N=-H;for(t=g[0]>_?Be.UP:Be.DOWN,R.push({pos:0,val:g[0]}),n=0;n<g.length-2;n++)t!==(r=(x=g[n+1]-g[n])+(l=g[n+2]-g[n+1])<N&&g[n+1]<1.5*_?Be.DOWN:x+l>H&&g[n+1]>.5*_?Be.UP:t)&&(R.push({pos:n,val:g[n]}),t=r);for(R.push({pos:g.length,val:g[g.length-1]}),c=R[0].pos;c<R[1].pos;c++)g[c]=g[c]>_?0:1;for(n=1;n<R.length-1;n++)for(H=R[n+1].val>R[n].val?R[n].val+(R[n+1].val-R[n].val)/3*2|0:R[n+1].val+(R[n].val-R[n+1].val)/3|0,c=R[n].pos;c<R[n+1].pos;c++)g[c]=g[c]>H?0:1;return{line:g,threshold:H}},Ie.debug={printFrequency:function(h,x){var l,t=x.getContext("2d");for(x.width=h.length,x.height=256,t.beginPath(),t.strokeStyle="blue",l=0;l<h.length;l++)t.moveTo(l,255),t.lineTo(l,255-h[l]);t.stroke(),t.closePath()},printPattern:function(h,x){var l,t=x.getContext("2d");for(x.width=h.length,t.fillColor="black",l=0;l<h.length;l++)h[l]===1&&t.fillRect(l,0,1,100)}};var Ye=Ie;function Ht(h,x){var l=typeof Symbol<"u"&&h[Symbol.iterator]||h["@@iterator"];if(!l){if(Array.isArray(h)||(l=function(v,g){if(v){if(typeof v=="string")return _t(v,g);var _=Object.prototype.toString.call(v).slice(8,-1);if(_==="Object"&&v.constructor&&(_=v.constructor.name),_==="Map"||_==="Set")return Array.from(v);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return _t(v,g)}}(h))||x){l&&(h=l);var t=0,r=function(){};return{s:r,n:function(){return t>=h.length?{done:!0}:{done:!1,value:h[t++]}},e:function(v){throw v},f:r}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var n,c=!0,p=!1;return{s:function(){l=l.call(h)},n:function(){var v=l.next();return c=v.done,v},e:function(v){p=!0,n=v},f:function(){try{c||l.return==null||l.return()}finally{if(p)throw n}}}}function _t(h,x){(x==null||x>h.length)&&(x=h.length);for(var l=0,t=new Array(x);l<x;l++)t[l]=h[l];return t}var ze={code_128_reader:ye,ean_reader:ke,ean_5_reader:pt,ean_2_reader:ht,ean_8_reader:vt,code_39_reader:Fe,code_39_vin_reader:He,codabar_reader:he,upc_reader:xt,upc_e_reader:mt,i2of5_reader:gt,"2of5_reader":z,code_93_reader:ct,code_32_reader:nt},$e={registerReader:function(h,x){ze[h]=x},create:function(h,x){var l=[];function t(){h.readers.forEach(function(v){var g,_={},R=[];s()(v)==="object"?(g=v.format,_=v.config):typeof v=="string"&&(g=v),_.supplements&&(R=_.supplements.map(function(N){return new ze[N]}));try{var H=new ze[g](_,R);l.push(H)}catch(N){throw console.error("* Error constructing reader ",g,N),N}})}function r(v){var g,_=null,R=Ye.getBarcodeLine(x,v[0],v[1]);for(Ye.toBinaryLine(R),g=0;g<l.length&&_===null;g++)_=l[g].decodePattern(R.line);return _===null?null:{codeResult:_,barcodeLine:R}}function n(v){return c.apply(this,arguments)}function c(){return(c=C()(I.a.mark(function v(g){var _,R,H,N;return I.a.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:_=null,R=Ht(l),Y.prev=2,R.s();case 4:if((H=R.n()).done){Y.next=14;break}if(!(N=H.value).decodeImage){Y.next=12;break}return Y.next=9,N.decodeImage(g);case 9:if(!(_=Y.sent)){Y.next=12;break}return Y.abrupt("break",14);case 12:Y.next=4;break;case 14:Y.next=19;break;case 16:Y.prev=16,Y.t0=Y.catch(2),R.e(Y.t0);case 19:return Y.prev=19,R.f(),Y.finish(19);case 22:return Y.abrupt("return",_);case 23:case"end":return Y.stop()}},v,null,[[2,16,19,22]])}))).apply(this,arguments)}function p(v){var g,_,R=function(N){return Math.sqrt(Math.pow(Math.abs(N[1].y-N[0].y),2)+Math.pow(Math.abs(N[1].x-N[0].x),2))}(g=function(N){return[{x:(N[1][0]-N[0][0])/2+N[0][0],y:(N[1][1]-N[0][1])/2+N[0][1]},{x:(N[3][0]-N[2][0])/2+N[2][0],y:(N[3][1]-N[2][1])/2+N[2][1]}]}(v)),H=Math.atan2(g[1].y-g[0].y,g[1].x-g[0].x);return(g=function(N,Y,ie){function de(ve){var le=ve*Math.sin(Y),me=ve*Math.cos(Y);N[0].y-=le,N[0].x-=me,N[1].y+=le,N[1].x+=me}for(de(ie);ie>1&&(!x.inImageWithBorder(N[0])||!x.inImageWithBorder(N[1]));)de(-(ie-=Math.ceil(ie/2)));return N}(g,H,Math.floor(.1*R)))===null?null:((_=r(g))===null&&(_=function(N,Y,ie){var de,ve,le,me=Math.sqrt(Math.pow(N[1][0]-N[0][0],2)+Math.pow(N[1][1]-N[0][1],2)),be=null,Ee=Math.sin(ie),Ne=Math.cos(ie);for(de=1;de<16&&be===null;de++)le={y:(ve=me/16*de*(de%2==0?-1:1))*Ee,x:ve*Ne},Y[0].y+=le.x,Y[0].x-=le.y,Y[1].y+=le.x,Y[1].x-=le.y,be=r(Y);return be}(v,g,H)),_===null?null:{codeResult:_.codeResult,line:g,angle:H,pattern:_.barcodeLine.line,threshold:_.barcodeLine.threshold})}return t(),{decodeFromBoundingBox:function(v){return p(v)},decodeFromBoundingBoxes:function(v){var g,_,R=[],H=h.multiple;for(g=0;g<v.length;g++){var N=v[g];if((_=p(N)||{}).box=N,H)R.push(_);else if(_.codeResult)return _}return{barcodes:R}},decodeFromImage:function(v){return C()(I.a.mark(function g(){var _;return I.a.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,n(v);case 2:return _=R.sent,R.abrupt("return",_);case 4:case"end":return R.stop()}},g)}))()},registerReader:function(v,g){if(ze[v])throw new Error("cannot register existing reader",v);ze[v]=g},setReaders:function(v){h.readers=v,l.length=0,t()}}}},Pe=function(){var h={};function x(r){return h[r]||(h[r]={subscribers:[]}),h[r]}function l(r,n){r.async?setTimeout(function(){r.callback(n)},4):r.callback(n)}function t(r,n,c){var p;if(typeof n=="function")p={callback:n,async:c};else if(!(p=n).callback)throw new Error("Callback was not specified on options");x(r).subscribers.push(p)}return{subscribe:function(r,n,c){return t(r,n,c)},publish:function(r,n){var c=x(r),p=c.subscribers;p.filter(function(v){return!!v.once}).forEach(function(v){l(v,n)}),c.subscribers=p.filter(function(v){return!v.once}),c.subscribers.forEach(function(v){l(v,n)})},once:function(r,n){var c=arguments.length>2&&arguments[2]!==void 0&&arguments[2];t(r,{callback:n,async:c,once:!0})},unsubscribe:function(r,n){if(r){var c=x(r);c.subscribers=c&&n?c.subscribers.filter(function(p){return p.callback!==n}):[]}else h={}}}}(),bt=e(63),wt=e.n(bt),Xt=e(64);function Qt(h){var x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var l,t=T()(h);if(x){var r=T()(this).constructor;l=Reflect.construct(t,arguments,r)}else l=t.apply(this,arguments);return P()(this,l)}}var je,Ze=function(h){k()(l,h);var x=Qt(l);function l(t,r){var n;return J()(this,l),n=x.call(this,t),E()(A()(n),"code",void 0),n.code=r,Object.setPrototypeOf(A()(n),l.prototype),n}return F()(l)}(e.n(Xt)()(Error)),Ot="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Yt(){try{return navigator.mediaDevices.enumerateDevices()}catch{var h=new Ze("enumerateDevices is not defined. ".concat(Ot),-1);return Promise.reject(h)}}function $t(h){try{return navigator.mediaDevices.getUserMedia(h)}catch{var x=new Ze("getUserMedia is not defined. ".concat(Ot),-1);return Promise.reject(x)}}function Rt(h){return new Promise(function(x,l){var t=10;(function r(){t>0?h.videoWidth>10&&h.videoHeight>10?x():window.setTimeout(r,500):l(new Ze("Unable to play video stream. Is webcam working?",-1)),t--})()})}function Mt(h,x){return Ke.apply(this,arguments)}function Ke(){return(Ke=C()(I.a.mark(function h(x,l){var t;return I.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,$t(l);case 2:if(t=r.sent,je=t,!x){r.next=11;break}return x.setAttribute("autoplay","true"),x.setAttribute("muted","true"),x.setAttribute("playsinline","true"),x.srcObject=t,x.addEventListener("loadedmetadata",function(){x.play().catch(function(n){console.warn("* Error while trying to play video stream:",n)})}),r.abrupt("return",Rt(x));case 11:return r.abrupt("return",Promise.resolve());case 12:case"end":return r.stop()}},h)}))).apply(this,arguments)}function Zt(h){var x=wt()(h,["width","height","facingMode","aspectRatio","deviceId"]);return h.minAspectRatio!==void 0&&h.minAspectRatio>0&&(x.aspectRatio=h.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),h.facing!==void 0&&(x.facingMode=h.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),x}function Kt(){var h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=Zt(h);return x&&x.deviceId&&x.facingMode&&delete x.facingMode,Promise.resolve({audio:!1,video:x})}function Ct(){return(Ct=C()(I.a.mark(function h(){var x;return I.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Yt();case 2:return x=l.sent,l.abrupt("return",x.filter(function(t){return t.kind==="videoinput"}));case 4:case"end":return l.stop()}},h)}))).apply(this,arguments)}function Ue(){if(!je)return null;var h=je.getVideoTracks();return h&&h!=null&&h.length?h[0]:null}var Le={requestedVideoElement:null,request:function(h,x){return C()(I.a.mark(function l(){var t;return I.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return Le.requestedVideoElement=h,r.next=3,Kt(x);case 3:return t=r.sent,r.abrupt("return",Mt(h,t));case 5:case"end":return r.stop()}},l)}))()},release:function(){var h=je&&je.getVideoTracks();return Le.requestedVideoElement!==null&&Le.requestedVideoElement.pause(),new Promise(function(x){setTimeout(function(){h&&h.length&&h.forEach(function(l){return l.stop()}),je=null,Le.requestedVideoElement=null,x()},0)})},enumerateVideoDevices:function(){return Ct.apply(this,arguments)},getActiveStreamLabel:function(){var h=Ue();return h?h.label:""},getActiveTrack:Ue,disableTorch:function(){return C()(I.a.mark(function h(){var x;return I.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(x=Ue())){l.next=11;break}return l.prev=2,l.next=5,x.applyConstraints({advanced:[{torch:!1}]});case 5:l.next=11;break;case 7:throw l.prev=7,l.t0=l.catch(2),l.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),l.t0;case 11:case"end":return l.stop()}},h,null,[[2,7]])}))()},enableTorch:function(){return C()(I.a.mark(function h(){var x;return I.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!(x=Ue())){l.next=11;break}return l.prev=2,l.next=5,x.applyConstraints({advanced:[{torch:!0}]});case 5:l.next=11;break;case 7:throw l.prev=7,l.t0=l.catch(2),l.t0 instanceof OverconstrainedError&&console.warn("quagga2/CameraAccess: Torch not supported on this device"),l.t0;case 11:case"end":return l.stop()}},h,null,[[2,7]])}))()}},We=Le,Et={create:function(h){var x,l=document.createElement("canvas"),t=l.getContext("2d",{willReadFrequently:!!h.willReadFrequently}),r=[],n=(x=h.capacity)!==null&&x!==void 0?x:20,c=h.capture===!0;function p(v){return!!n&&v&&!function(g,_){return _&&_.some(function(R){return Object.keys(R).every(function(H){return R[H]===g[H]})})}(v,h.blacklist)&&function(g,_){return typeof _!="function"||_(g)}(v,h.filter)}return{addResult:function(v,g,_){var R={};p(_)&&(n--,R.codeResult=_,c&&(l.width=g.x,l.height=g.y,Q.a.drawImage(v,g,t),R.frame=l.toDataURL()),r.push(R))},getResults:function(){return r}}}},Jt={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Ce=e(5),qe=e(10),At=Math.PI/180,er={create:function(h,x){var l,t={},r=h.getConfig(),n=(Object(qe.h)(h.getRealWidth(),h.getRealHeight()),h.getCanvasSize()),c=Object(qe.h)(h.getWidth(),h.getHeight()),p=h.getTopRight(),v=p.x,g=p.y,_=null,R=null,H=r.willReadFrequently;return(l=x||document.createElement("canvas")).width=n.x,l.height=n.y,console.warn("*** frame_grabber_browser: willReadFrequently=",H,"canvas=",l),_=l.getContext("2d",{willReadFrequently:!!H}),R=new Uint8Array(c.x*c.y),t.attachData=function(N){R=N},t.getData=function(){return R},t.grab=function(){var N,Y=r.halfSample,ie=h.getFrame(),de=ie,ve=0;if(de){if(function(le,me){le.width!==me.x&&(le.width=me.x),le.height!==me.y&&(le.height=me.y)}(l,n),r.type==="ImageStream"&&(de=ie.img,ie.tags&&ie.tags.orientation))switch(ie.tags.orientation){case 6:ve=90*At;break;case 8:ve=-90*At}return ve!==0?(_.translate(n.x/2,n.y/2),_.rotate(ve),_.drawImage(de,-n.y/2,-n.x/2,n.y,n.x),_.rotate(-ve),_.translate(-n.x/2,-n.y/2)):_.drawImage(de,0,0,n.x,n.y),N=_.getImageData(v,g,c.x,c.y).data,Y?Object(qe.e)(N,c,R):Object(qe.c)(N,R,r),!0}return!1},t.getSize=function(){return c},t}},tr=er,Ve={274:"orientation"},St=Object.keys(Ve).map(function(h){return Ve[h]});function rr(h){return new Promise(function(x){var l=new FileReader;l.onload=function(t){return x(t.target.result)},l.readAsArrayBuffer(h)})}function nr(h){return new Promise(function(x,l){var t=new XMLHttpRequest;t.open("GET",h,!0),t.responseType="blob",t.onreadystatechange=function(){t.readyState!==XMLHttpRequest.DONE||t.status!==200&&t.status!==0||x(this.response)},t.onerror=l,t.send()})}function or(h){var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:St,l=new DataView(h),t=h.byteLength,r=x.reduce(function(c,p){var v=Object.keys(Ve).filter(function(g){return Ve[g]===p})[0];return v&&(c[v]=p),c},{}),n=2;if(l.getUint8(0)!==255||l.getUint8(1)!==216)return!1;for(;n<t;){if(l.getUint8(n)!==255)return!1;if(l.getUint8(n+1)===225)return ar(l,n+4,r);n+=2+l.getUint16(n+2)}return!1}function ar(h,x,l){if(function(c,p,v){for(var g="",_=p;_<p+v;_++)g+=String.fromCharCode(c.getUint8(_));return g}(h,x,4)!=="Exif")return!1;var t,r=x+6;if(h.getUint16(r)===18761)t=!1;else{if(h.getUint16(r)!==19789)return!1;t=!0}if(h.getUint16(r+2,!t)!==42)return!1;var n=h.getUint32(r+4,!t);return!(n<8)&&function(c,p,v,g,_){for(var R=c.getUint16(v,!_),H={},N=0;N<R;N++){var Y=v+12*N+2,ie=g[c.getUint16(Y,!_)];ie&&(H[ie]=ur(c,Y,p,v,_))}return H}(h,r,r+n,l,t)}function ur(h,x,l,t,r){var n=h.getUint16(x+2,!r),c=h.getUint32(x+4,!r);switch(n){case 3:if(c===1)return h.getUint16(x+8,!r)}return null}var kt={};function ir(h,x){h.onload=function(){x.loaded(this)}}kt.load=function(h,x,l,t,r){var n,c,p,v=new Array(t),g=new Array(v.length);if(r===!1)v[0]=h;else for(n=0;n<v.length;n++)p=l+n,v[n]="".concat(h,"image-").concat("00".concat(p).slice(-3),".jpg");for(g.notLoaded=[],g.addImage=function(_){g.notLoaded.push(_)},g.loaded=function(_){for(var R=g.notLoaded,H=0;H<R.length;H++)if(R[H]===_){R.splice(H,1);for(var N=0;N<v.length;N++){var Y=v[N].substr(v[N].lastIndexOf("/"));if(_.src.lastIndexOf(Y)!==-1){g[N]={img:_};break}}break}R.length===0&&(r===!1?function(ie){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:St;return/^blob:/i.test(ie)?nr(ie).then(rr).then(function(ve){return or(ve,de)}):Promise.resolve(null)}(h,["orientation"]).then(function(ie){g[0].tags=ie,x(g)}).catch(function(ie){console.log(ie),x(g)}):x(g))},n=0;n<v.length;n++)c=new Image,g.addImage(c),ir(c,g),c.src=v[n]};var cr=kt,Pt={createVideoStream:function(h){console.warn("**** InputStreamBrowser createVideoStream");var x,l,t=null,r=["canrecord","ended"],n={},c={x:0,y:0,type:"Point"},p={x:0,y:0,type:"XYSize"},v={getRealWidth:function(){return h.videoWidth},getRealHeight:function(){return h.videoHeight},getWidth:function(){return x},getHeight:function(){return l},setWidth:function(g){x=g},setHeight:function(g){l=g},setInputStream:function(g){t=g,this.setAttribute("src",g.src!==void 0?g.src:"")},ended:function(){return h.ended},getConfig:function(){return t},setAttribute:function(g,_){h&&h.setAttribute(g,_)},pause:function(){h.pause()},play:function(){h.play()},setCurrentTime:function(g){var _;((_=t)===null||_===void 0?void 0:_.type)!=="LiveStream"&&this.setAttribute("currentTime",g.toString())},addEventListener:function(g,_,R){r.indexOf(g)!==-1?(n[g]||(n[g]=[]),n[g].push(_)):h.addEventListener(g,_,R)},clearEventHandlers:function(){r.forEach(function(g){var _=n[g];_&&_.length>0&&_.forEach(function(R){h.removeEventListener(g,R)})})},trigger:function(g,_){var R,H,N,Y,ie,de=n[g];if(g==="canrecord"&&(Y=h.videoWidth,ie=h.videoHeight,x=(H=t)!==null&&H!==void 0&&H.size?Y/ie>1?t.size:Math.floor(Y/ie*t.size):Y,l=(N=t)!==null&&N!==void 0&&N.size?Y/ie>1?Math.floor(ie/Y*t.size):t.size:ie,p.x=x,p.y=l),de&&de.length>0)for(R=0;R<de.length;R++)de[R].apply(v,_)},setTopRight:function(g){c.x=g.x,c.y=g.y},getTopRight:function(){return c},setCanvasSize:function(g){p.x=g.x,p.y=g.y},getCanvasSize:function(){return p},getFrame:function(){return h}};return v},createLiveStream:function(h){console.warn("**** InputStreamBrowser createLiveStream"),h&&h.setAttribute("autoplay","true");var x=Pt.createVideoStream(h);return x.ended=function(){return!1},x},createImageStream:function(){var h,x,l=null,t=0,r=0,n=0,c=!0,p=!1,v=null,g=0,_=null,R=!1,H=["canrecord","ended"],N={},Y={x:0,y:0,type:"Point"},ie={x:0,y:0,type:"XYSize"};function de(le,me){var be,Ee=N[le];if(Ee&&Ee.length>0)for(be=0;be<Ee.length;be++)Ee[be].apply(ve,me)}var ve={trigger:de,getWidth:function(){return h},getHeight:function(){return x},setWidth:function(le){h=le},setHeight:function(le){x=le},getRealWidth:function(){return t},getRealHeight:function(){return r},setInputStream:function(le){var me;l=le,le.sequence===!1?(_=le.src,g=1):(_=le.src,g=le.length),p=!1,cr.load(_,function(be){var Ee,Ne;if(v=be,be[0].tags&&be[0].tags.orientation)switch(be[0].tags.orientation){case 6:case 8:t=be[0].img.height,r=be[0].img.width;break;default:t=be[0].img.width,r=be[0].img.height}else t=be[0].img.width,r=be[0].img.height;h=(Ee=l)!==null&&Ee!==void 0&&Ee.size?t/r>1?l.size:Math.floor(t/r*l.size):t,x=(Ne=l)!==null&&Ne!==void 0&&Ne.size?t/r>1?Math.floor(r/t*l.size):l.size:r,ie.x=h,ie.y=x,p=!0,n=0,setTimeout(function(){de("canrecord",[])},0)},1,g,(me=l)===null||me===void 0?void 0:me.sequence)},ended:function(){return R},setAttribute:function(){},getConfig:function(){return l},pause:function(){c=!0},play:function(){c=!1},setCurrentTime:function(le){n=le},addEventListener:function(le,me){H.indexOf(le)!==-1&&(N[le]||(N[le]=[]),N[le].push(me))},clearEventHandlers:function(){Object.keys(N).forEach(function(le){return delete N[le]})},setTopRight:function(le){Y.x=le.x,Y.y=le.y},getTopRight:function(){return Y},setCanvasSize:function(le){ie.x=le.x,ie.y=le.y},getCanvasSize:function(){return ie},getFrame:function(){var le,me;return p?(c||(le=(me=v)===null||me===void 0?void 0:me[n],n<g-1?n++:setTimeout(function(){R=!0,de("ended",[])},0)),le):null}};return ve}},sr=Pt,Je=e(23),fr=F()(function h(){J()(this,h),E()(this,"config",void 0),E()(this,"inputStream",void 0),E()(this,"framegrabber",void 0),E()(this,"inputImageWrapper",void 0),E()(this,"stopped",!1),E()(this,"boxSize",void 0),E()(this,"resultCollector",void 0),E()(this,"decoder",void 0),E()(this,"workerPool",[]),E()(this,"onUIThread",!0),E()(this,"canvasContainer",new o)}),Tt=F()(function h(){J()(this,h),E()(this,"image",void 0),E()(this,"overlay",void 0)}),o=F()(function h(){J()(this,h),E()(this,"ctx",void 0),E()(this,"dom",void 0),this.ctx=new Tt,this.dom=new Tt});function d(h){if(typeof document>"u")return null;if(h instanceof HTMLElement&&h.nodeName&&h.nodeType===1)return h;var x=typeof h=="string"?h:"#interactive.viewport";return document.querySelector(x)}function m(h,x,l){var t=function(n,c){var p=document.querySelector(n);return p||((p=document.createElement("canvas")).className=c),p}(h,x);console.warn("* initCanvas getCanvasAndContext");var r=t.getContext("2d",{willReadFrequently:l.willReadFrequently});return{canvas:t,context:r}}function S(h){var x,l,t,r,n,c,p=d(h==null||(x=h.config)===null||x===void 0||(l=x.inputStream)===null||l===void 0?void 0:l.target),v=h==null||(t=h.config)===null||t===void 0||(r=t.inputStream)===null||r===void 0?void 0:r.type;if(!v)return null;var g=function(R,H){var N=H.willReadFrequently;if(typeof document<"u"){var Y=m("canvas.imgBuffer","imgBuffer",{willReadFrequently:N}),ie=m("canvas.drawingBuffer","drawingBuffer",{willReadFrequently:N});return Y.canvas.width=ie.canvas.width=R.x,Y.canvas.height=ie.canvas.height=R.y,{dom:{image:Y.canvas,overlay:ie.canvas},ctx:{image:Y.context,overlay:ie.context}}}return null}(h.inputStream.getCanvasSize(),{willReadFrequently:!(h==null||(n=h.config)===null||n===void 0||(c=n.inputStream)===null||c===void 0||!c.willReadFrequently)});if(!g)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var _=g.dom;return typeof document<"u"&&p&&(v!=="ImageStream"||p.contains(_.image)||p.appendChild(_.image),p.contains(_.overlay)||p.appendChild(_.overlay)),g}function j(h,x){var l=Object.keys(h);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(h);x&&(t=t.filter(function(r){return Object.getOwnPropertyDescriptor(h,r).enumerable})),l.push.apply(l,t)}return l}function q(h){for(var x=1;x<arguments.length;x++){var l=arguments[x]!=null?arguments[x]:{};x%2?j(Object(l),!0).forEach(function(t){E()(h,t,l[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(l)):j(Object(l)).forEach(function(t){Object.defineProperty(h,t,Object.getOwnPropertyDescriptor(l,t))})}return h}Ce.a.setMatrixArrayType(Array);var re=[];function se(h){return q(q({},h),{},{inputStream:q(q({},h.inputStream),{},{target:null})})}function pe(h){if(h){var x=h().default;if(!x)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var l;function t(n){self.postMessage({event:"processed",imageData:l.data,result:n},[l.data.buffer])}function r(){self.postMessage({event:"initialized",imageData:l.data},[l.data.buffer])}self.onmessage=function(n){if(n.data.cmd==="init"){var c=n.data.config;c.numOfWorkers=0,l=new x.ImageWrapper({x:n.data.size.x,y:n.data.size.y},new Uint8Array(n.data.imageData)),x.init(c,r,l),x.onProcessed(t)}else n.data.cmd==="process"?(l.data=new Uint8Array(n.data.imageData),x.start()):n.data.cmd==="setReaders"?x.setReaders(n.data.readers):n.data.cmd==="registerReader"&&x.registerReader(n.data.name,n.data.reader)}}function _e(h,x,l){var t,r,n=(typeof __factorySource__<"u"&&(r=__factorySource__),t=new Blob(["("+pe.toString()+")("+r+");"],{type:"text/javascript"}),window.URL.createObjectURL(t)),c={worker:new Worker(n),imageData:new Uint8Array(x.getWidth()*x.getHeight()),busy:!0};c.worker.onmessage=function(p){p.data.event==="initialized"?(URL.revokeObjectURL(n),c.busy=!1,c.imageData=new Uint8Array(p.data.imageData),l(c)):p.data.event==="processed"?(c.imageData=new Uint8Array(p.data.imageData),c.busy=!1,typeof publishResult<"u"&&publishResult(p.data.result,c.imageData)):p.data.event},c.worker.postMessage({cmd:"init",size:{x:x.getWidth(),y:x.getHeight()},imageData:c.imageData,config:se(h)},[c.imageData.buffer])}function Oe(h,x,l,t){var r=h-re.length;if(r===0&&t)t();else if(r<0)re.slice(r).forEach(function(p){p.worker.terminate()}),re=re.slice(0,r),t&&t();else{var n=function(p){re.push(p),re.length>=h&&t&&t()};if(x)for(var c=0;c<r;c++)_e(x,l,n)}}function Ae(h,x,l){for(var t=h.length;t--;)h[t][0]+=x,h[t][1]+=l}Ce.a.setMatrixArrayType(Array);var Se=function(){function h(){var t=this;J()(this,h),E()(this,"context",new fr),E()(this,"canRecord",function(r){var n;t.context.config&&(Je.a.checkImageConstraints(t.context.inputStream,(n=t.context.config)===null||n===void 0?void 0:n.locator),t.initCanvas(),t.context.framegrabber=tr.create(t.context.inputStream,t.context.canvasContainer.dom.image),t.context.config.numOfWorkers===void 0&&(t.context.config.numOfWorkers=0),Oe(t.context.config.numOfWorkers,t.context.config,t.context.inputStream,function(){var c;((c=t.context.config)===null||c===void 0?void 0:c.numOfWorkers)===0&&t.initializeData(),t.ready(r)}))}),E()(this,"update",function(){if(t.context.onUIThread){var r,n=(p=t.context.framegrabber,re.length?!!(v=re.filter(function(g){return!g.busy})[0])&&(p.attachData(v.imageData),p.grab()&&(v.busy=!0,v.worker.postMessage({cmd:"process",imageData:v.imageData},[v.imageData.buffer])),!0):null);n||(t.context.framegrabber.attachData((r=t.context.inputImageWrapper)===null||r===void 0?void 0:r.data),t.context.framegrabber.grab()&&(n||t.locateAndDecode()))}else{var c;t.context.framegrabber.attachData((c=t.context.inputImageWrapper)===null||c===void 0?void 0:c.data),t.context.framegrabber.grab(),t.locateAndDecode()}var p,v})}var x,l;return F()(h,[{key:"initBuffers",value:function(t){if(this.context.config){var r=function(p,v,g){var _=v||new b.a({x:p.getWidth(),y:p.getHeight(),type:"XYSize"}),R=[Ce.c.clone([0,0]),Ce.c.clone([0,_.size.y]),Ce.c.clone([_.size.x,_.size.y]),Ce.c.clone([_.size.x,0])];return Je.a.init(_,g),{inputImageWrapper:_,boxSize:R}}(this.context.inputStream,t,this.context.config.locator),n=r.inputImageWrapper,c=r.boxSize;this.context.inputImageWrapper=n,this.context.boxSize=c}}},{key:"initializeData",value:function(t){this.context.config&&(this.initBuffers(t),this.context.decoder=$e.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?d(this.context.config.inputStream.target):null}},{key:"ready",value:function(t){this.context.inputStream.play(),t()}},{key:"initCanvas",value:function(){var t=S(this.context);if(t){var r=t.ctx,n=t.dom;this.context.canvasContainer.dom.image=n.image,this.context.canvasContainer.dom.overlay=n.overlay,this.context.canvasContainer.ctx.image=r.image,this.context.canvasContainer.ctx.overlay=r.overlay}}},{key:"initInputStream",value:function(t){if(this.context.config&&this.context.config.inputStream){var r=this.context.config.inputStream,n=r.type,c=r.constraints,p=function(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"LiveStream",R=arguments.length>1?arguments[1]:void 0,H=arguments.length>2?arguments[2]:void 0;switch(_){case"VideoStream":var N=document.createElement("video");return{video:N,inputStream:H.createVideoStream(N)};case"ImageStream":return{inputStream:H.createImageStream()};case"LiveStream":var Y=null;return R&&((Y=R.querySelector("video"))||(Y=document.createElement("video"),R.appendChild(Y))),{video:Y,inputStream:H.createLiveStream(Y)};default:return console.error("* setupInputStream invalid type ".concat(_)),{video:null,inputStream:null}}}(n,this.getViewPort(),sr),v=p.video,g=p.inputStream;n==="LiveStream"&&v&&We.request(v,c).then(function(){return g.trigger("canrecord")}).catch(function(_){return t(_)}),g&&(g.setAttribute("preload","auto"),g.setInputStream(this.context.config.inputStream),g.addEventListener("canrecord",this.canRecord.bind(void 0,t))),this.context.inputStream=g}}},{key:"getBoundingBoxes",value:function(){var t;return(t=this.context.config)!==null&&t!==void 0&&t.locate?Je.a.locate():[[Ce.c.clone(this.context.boxSize[0]),Ce.c.clone(this.context.boxSize[1]),Ce.c.clone(this.context.boxSize[2]),Ce.c.clone(this.context.boxSize[3])]]}},{key:"transformResult",value:function(t){var r=this,n=this.context.inputStream.getTopRight(),c=n.x,p=n.y;if((c!==0||p!==0)&&(t.barcodes&&t.barcodes.forEach(function(g){return r.transformResult(g)}),t.line&&t.line.length===2&&function(g,_,R){g[0].x+=_,g[0].y+=R,g[1].x+=_,g[1].y+=R}(t.line,c,p),t.box&&Ae(t.box,c,p),t.boxes&&t.boxes.length>0))for(var v=0;v<t.boxes.length;v++)Ae(t.boxes[v],c,p)}},{key:"addResult",value:function(t,r){var n=this;r&&this.context.resultCollector&&(t.barcodes?t.barcodes.filter(function(c){return c.codeResult}).forEach(function(c){return n.addResult(c,r)}):t.codeResult&&this.context.resultCollector.addResult(r,this.context.inputStream.getCanvasSize(),t.codeResult))}},{key:"hasCodeResult",value:function(t){return!(!t||!(t.barcodes?t.barcodes.some(function(r){return r.codeResult}):t.codeResult))}},{key:"publishResult",value:function(){var t,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,c=r;r&&this.context.onUIThread&&(this.transformResult(r),this.addResult(r,n),c=(r==null||(t=r.barcodes)===null||t===void 0?void 0:t.length)>0?r.barcodes:r),Pe.publish("processed",c),this.hasCodeResult(r)&&Pe.publish("detected",c)}},{key:"locateAndDecode",value:(l=C()(I.a.mark(function t(){var r,n,c,p,v;return I.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(r=this.getBoundingBoxes())){g.next=12;break}return g.next=4,this.context.decoder.decodeFromBoundingBoxes(r);case 4:if(g.t0=g.sent,g.t0){g.next=7;break}g.t0={};case 7:(c=g.t0).boxes=r,this.publishResult(c,(n=this.context.inputImageWrapper)===null||n===void 0?void 0:n.data),g.next=16;break;case 12:return g.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(p=g.sent)?this.publishResult(p,(v=this.context.inputImageWrapper)===null||v===void 0?void 0:v.data):this.publishResult();case 16:case"end":return g.stop()}},t,this)})),function(){return l.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var t,r=this,n=null,c=1e3/(((t=this.context.config)===null||t===void 0?void 0:t.frequency)||60);this.context.stopped=!1;var p=this.context;(function v(g){n=n||g,p.stopped||(g>=n&&(n+=c,r.update()),window.requestAnimationFrame(v))})(performance.now())}},{key:"start",value:function(){var t,r;this.context.onUIThread&&((t=this.context.config)===null||t===void 0||(r=t.inputStream)===null||r===void 0?void 0:r.type)==="LiveStream"?this.startContinuousUpdate():this.update()}},{key:"stop",value:(x=C()(I.a.mark(function t(){var r;return I.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(this.context.stopped=!0,Oe(0),(r=this.context.config)===null||r===void 0||!r.inputStream||this.context.config.inputStream.type!=="LiveStream"){n.next=6;break}return n.next=5,We.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return n.stop()}},t,this)})),function(){return x.apply(this,arguments)})},{key:"setReaders",value:function(t){this.context.decoder&&this.context.decoder.setReaders(t),function(r){re.forEach(function(n){return n.worker.postMessage({cmd:"setReaders",readers:r})})}(t)}},{key:"registerReader",value:function(t,r){$e.registerReader(t,r),this.context.decoder&&this.context.decoder.registerReader(t,r),function(n,c){re.forEach(function(p){return p.worker.postMessage({cmd:"registerReader",name:n,reader:c})})}(t,r)}}]),h}(),De=new Se,Ge=De.context,et={init:function(h,x,l){var t,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:De;return x||(t=new Promise(function(n,c){x=function(p){p?c(p):n()}})),r.context.config=y()({},Jt,h),r.context.config.numOfWorkers>0&&(r.context.config.numOfWorkers=0),l?(r.context.onUIThread=!1,r.initializeData(l),x&&x()):r.initInputStream(x),t},start:function(){return De.start()},stop:function(){return De.stop()},pause:function(){Ge.stopped=!0},onDetected:function(h){h&&(typeof h=="function"||s()(h)==="object"&&h.callback)?Pe.subscribe("detected",h):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(h){Pe.unsubscribe("detected",h)},onProcessed:function(h){h&&(typeof h=="function"||s()(h)==="object"&&h.callback)?Pe.subscribe("processed",h):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(h){Pe.unsubscribe("processed",h)},setReaders:function(h){h?De.setReaders(h):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(h,x){h?x?De.registerReader(h,x):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(h){h&&typeof h.addResult=="function"&&(Ge.resultCollector=h)},get canvas(){return Ge.canvasContainer},decodeSingle:function(h,x){var l=this,t=new Se;return(h=y()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:h.src},numOfWorkers:1,locator:{halfSample:!1}},h)).numOfWorkers>0&&(h.numOfWorkers=0),h.numOfWorkers>0&&(typeof Blob>"u"||typeof Worker>"u")&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),h.numOfWorkers=0),new Promise(function(r,n){try{l.init(h,function(){Pe.once("processed",function(c){t.stop(),x&&x.call(null,c),r(c)},!0),t.start()},null,t)}catch(c){n(c)}})},get default(){return et},Readers:a,CameraAccess:We,ImageDebug:Q.a,ImageWrapper:b.a,ResultCollector:Et};w.default=et}]).default})})(lr);var vr=lr.exports;const mr=pr(vr);export{mr as Q};
