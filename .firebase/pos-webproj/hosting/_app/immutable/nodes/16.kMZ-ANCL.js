import{s as r,n as a,o as c}from"../chunks/scheduler.BELo7BN7.js";import{S as l,i as d,e as u,c as m,k as f,l as g,g as h,d as p}from"../chunks/index.BanRfVMS.js";import{Q as s}from"../chunks/quagga.min.BYk0twGx.js";function v(i){let e,t='<div class="scanner-label"><p>Place the barcode in front of the camera</p></div> <div id="scanner-container" class="scanner-container"></div>';return{c(){e=u("div"),e.innerHTML=t,this.h()},l(n){e=m(n,"DIV",{class:!0,"data-svelte-h":!0}),f(e)!=="svelte-1dwx3ah"&&(e.innerHTML=t),this.h()},h(){g(e,"class","scanner-layout")},m(n,o){h(n,e,o)},p:a,i:a,o:a,d(n){n&&p(e)}}}function S(i){const e=()=>{console.log("Initializing scanner..."),s.init({inputStream:{type:"LiveStream",target:document.querySelector("#scanner-container")||void 0,constraints:{facingMode:"environment"}},decoder:{readers:["ean_reader"]}},t=>{if(t){console.error("Quagga initialization failed:",t),alert("Failed to initialize the scanner");return}console.log("Scanner initialized successfully"),s.start()}),s.onDetected(t=>{const n=t.codeResult.code;n&&(localStorage.setItem("scannedBarcode",n),window.close())})};return c(()=>{e()}),[]}class z extends l{constructor(e){super(),d(this,e,S,v,r,{})}}export{z as component};
