import{s as ye,n as be,r as Ie,o as Ee}from"../chunks/scheduler.BELo7BN7.js";import{S as De,i as we,e as l,s as _,t as Se,c as n,a as f,k as he,f as b,d as c,b as Te,l as e,g as le,h as s,m as N,n as Q,q as ke,r as A,j as Ce,p as Ne}from"../chunks/index.BanRfVMS.js";import{g as Pe,c as qe,e as xe}from"../chunks/index.esm2017.C5xuyXIG.js";import{f as Ve}from"../chunks/feather.4YeCTLL6.js";import{Q as ae}from"../chunks/quagga.min.BYk0twGx.js";function ge(o){let r,t="";return{c(){r=l("div"),r.innerHTML=t,this.h()},l(i){r=n(i,"DIV",{id:!0,class:!0,style:!0,"data-svelte-h":!0}),he(r)!=="svelte-11rhz8n"&&(r.innerHTML=t),this.h()},h(){e(r,"id","scanner-container"),e(r,"class","scanner-container mt-4 svelte-19bao7k"),Ne(r,"height","300px")},m(i,S){le(i,r,S)},d(i){i&&c(r)}}}function Ue(o){let r;return{c(){r=l("i"),this.h()},l(t){r=n(t,"I",{"data-feather":!0,class:!0}),f(r).forEach(c),this.h()},h(){e(r,"data-feather","save"),e(r,"class","mr-2")},m(t,i){le(t,r,i)},d(t){t&&c(r)}}}function Me(o){let r;return{c(){r=l("div"),this.h()},l(t){r=n(t,"DIV",{class:!0}),f(r).forEach(c),this.h()},h(){e(r,"class","animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white")},m(t,i){le(t,r,i)},d(t){t&&c(r)}}}function Fe(o){let r,t,i,S="ADD NEW ITEM",P,a,v,T,q,h,H,w,G="Open Camera Barcode Scanner",R,z,k,V,g,d,ne,U,B,ie,y,ue,M,L,oe,I,ce,F,O,de,E,fe,C,J,j,W=o[5]?"Saving...":"Save Item",K,pe,me,m=o[6]&&ge();function ve(u,D){return u[5]?Me:Ue}let X=ve(o),x=X(o);return{c(){r=l("div"),t=l("div"),i=l("h2"),i.textContent=S,P=_(),a=l("form"),v=l("div"),T=l("i"),q=_(),h=l("input"),H=_(),w=l("button"),w.textContent=G,R=_(),m&&m.c(),z=_(),k=l("div"),V=l("i"),g=_(),d=l("input"),ne=_(),U=l("div"),B=l("i"),ie=_(),y=l("input"),ue=_(),M=l("div"),L=l("i"),oe=_(),I=l("input"),ce=_(),F=l("div"),O=l("i"),de=_(),E=l("input"),fe=_(),C=l("button"),x.c(),J=_(),j=l("span"),K=Se(W),this.h()},l(u){r=n(u,"DIV",{class:!0});var D=f(r);t=n(D,"DIV",{class:!0});var Y=f(t);i=n(Y,"H2",{class:!0,"data-svelte-h":!0}),he(i)!=="svelte-1p182fe"&&(i.textContent=S),P=b(Y),a=n(Y,"FORM",{class:!0});var p=f(a);v=n(p,"DIV",{class:!0});var Z=f(v);T=n(Z,"I",{"data-feather":!0,class:!0}),f(T).forEach(c),q=b(Z),h=n(Z,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),Z.forEach(c),H=b(p),w=n(p,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),he(w)!=="svelte-5wgl1x"&&(w.textContent=G),R=b(p),m&&m.l(p),z=b(p),k=n(p,"DIV",{class:!0});var $=f(k);V=n($,"I",{"data-feather":!0,class:!0}),f(V).forEach(c),g=b($),d=n($,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),$.forEach(c),ne=b(p),U=n(p,"DIV",{class:!0});var ee=f(U);B=n(ee,"I",{"data-feather":!0,class:!0}),f(B).forEach(c),ie=b(ee),y=n(ee,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),ee.forEach(c),ue=b(p),M=n(p,"DIV",{class:!0});var te=f(M);L=n(te,"I",{"data-feather":!0,class:!0}),f(L).forEach(c),oe=b(te),I=n(te,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),te.forEach(c),ce=b(p),F=n(p,"DIV",{class:!0});var re=f(F);O=n(re,"I",{"data-feather":!0,class:!0}),f(O).forEach(c),de=b(re),E=n(re,"INPUT",{type:!0,id:!0,class:!0,placeholder:!0}),re.forEach(c),fe=b(p),C=n(p,"BUTTON",{type:!0,class:!0});var se=f(C);x.l(se),J=b(se),j=n(se,"SPAN",{class:!0});var _e=f(j);K=Te(_e,W),_e.forEach(c),se.forEach(c),p.forEach(c),Y.forEach(c),D.forEach(c),this.h()},h(){e(i,"class","text-xl font-bold text-gray-700 text-center mb-6"),e(T,"data-feather","hash"),e(T,"class","mr-2 text-gray-400"),e(h,"type","text"),e(h,"id","pID"),e(h,"class","w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),e(h,"placeholder","Enter product ID"),h.required=!0,e(v,"class","flex items-center"),e(w,"type","button"),e(w,"class","w-full p-2 mt-2 bg-blue-500 text-white rounded-md focus:outline-none hover:bg-blue-600"),e(V,"data-feather","tag"),e(V,"class","mr-2 text-gray-400"),e(d,"type","text"),e(d,"id","itemName"),e(d,"class","w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),e(d,"placeholder","Enter item name"),d.required=!0,e(k,"class","flex items-center"),e(B,"data-feather","layers"),e(B,"class","mr-2 text-gray-400"),e(y,"type","number"),e(y,"id","itemQuantity"),e(y,"class","w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),e(y,"placeholder","Enter quantity"),y.required=!0,e(U,"class","flex items-center"),e(L,"data-feather","dollar-sign"),e(L,"class","mr-2 text-gray-400"),e(I,"type","number"),e(I,"id","itemPrice"),e(I,"class","w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),e(I,"placeholder","Enter price"),I.required=!0,e(M,"class","flex items-center"),e(O,"data-feather","dollar-sign"),e(O,"class","mr-2 text-gray-400"),e(E,"type","number"),e(E,"id","itemCost"),e(E,"class","w-full p-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"),e(E,"placeholder","Enter cost"),E.required=!0,e(F,"class","flex items-center"),e(j,"class","ml-2 text-center"),e(C,"type","submit"),e(C,"class","submit-button flex items-center justify-center"),e(a,"class","space-y-4"),e(t,"class","bg-white shadow-lg rounded-lg p-6 w-full max-w-sm"),e(r,"class","flex justify-center items-center h-screen bg-gray-100")},m(u,D){le(u,r,D),s(r,t),s(t,i),s(t,P),s(t,a),s(a,v),s(v,T),s(v,q),s(v,h),N(h,o[3]),s(a,H),s(a,w),s(a,R),m&&m.m(a,null),s(a,z),s(a,k),s(k,V),s(k,g),s(k,d),N(d,o[0]),s(a,ne),s(a,U),s(U,B),s(U,ie),s(U,y),N(y,o[1]),s(a,ue),s(a,M),s(M,L),s(M,oe),s(M,I),N(I,o[2]),s(a,ce),s(a,F),s(F,O),s(F,de),s(F,E),N(E,o[4]),s(a,fe),s(a,C),x.m(C,null),s(C,J),s(C,j),s(j,K),pe||(me=[Q(h,"input",o[9]),Q(w,"click",o[7]),Q(d,"input",o[10]),Q(y,"input",o[11]),Q(I,"input",o[12]),Q(E,"input",o[13]),Q(a,"submit",ke(o[8]))],pe=!0)},p(u,[D]){D&8&&h.value!==u[3]&&N(h,u[3]),u[6]?m||(m=ge(),m.c(),m.m(a,z)):m&&(m.d(1),m=null),D&1&&d.value!==u[0]&&N(d,u[0]),D&2&&A(y.value)!==u[1]&&N(y,u[1]),D&4&&A(I.value)!==u[2]&&N(I,u[2]),D&16&&A(E.value)!==u[4]&&N(E,u[4]),X!==(X=ve(u))&&(x.d(1),x=X(u),x&&(x.c(),x.m(C,J))),D&32&&W!==(W=u[5]?"Saving...":"Save Item")&&Ce(K,W)},i:be,o:be,d(u){u&&c(r),m&&m.d(),x.d(),pe=!1,Ie(me)}}}function Qe(o,r,t){let i="",S="",P="",a="",v="",T=!1,q=!1,h=!1;Ee(()=>{Ve.replace()});const H=()=>{h?t(6,q=!q):(t(6,q=!0),ae.init({inputStream:{type:"LiveStream",target:document.querySelector("#scanner-container")||void 0,constraints:{facingMode:"environment"}},decoder:{readers:["ean_reader"]}},g=>{if(g){console.error("Quagga initialization failed:",g),alert("Failed to initialize the scanner");return}ae.start(),h=!0}),ae.onDetected(g=>{const d=g.codeResult.code;d&&(t(3,a=d),t(6,q=!1),ae.stop())}))},w=async()=>{t(5,T=!0);try{const g=Pe(),d=qe(g,"Inventory");await xe(d,{pID:a,name:i,srp:parseFloat(P),stocks:parseInt(S),cost:parseFloat(v)}),t(0,i=t(1,S=t(2,P=t(3,a=t(4,v=""))))),alert("Item saved successfully!")}catch(g){console.error("Error adding item:",g),alert("Save unsuccessful. Please try again.")}finally{t(5,T=!1)}};function G(){a=this.value,t(3,a)}function R(){i=this.value,t(0,i)}function z(){S=A(this.value),t(1,S)}function k(){P=A(this.value),t(2,P)}function V(){v=A(this.value),t(4,v)}return[i,S,P,a,v,T,q,H,w,G,R,z,k,V]}class Ae extends De{constructor(r){super(),we(this,r,Qe,Fe,ye,{})}}export{Ae as component};
