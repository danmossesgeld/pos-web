import{s as ve,n as re,r as he,o as _e}from"../chunks/scheduler.CZBJOnV1.js";import{S as ye,i as be,e as h,s as L,c as f,a as T,f as S,k as $,d as b,l as i,g as fe,h as t,m as ae,n as j,o as ge,t as V,b as F,p as le,j as P}from"../chunks/index.x36UGmBY.js";import{e as ne}from"../chunks/each.D6YF6ztN.js";import{g as oe,c as z,q as G,w as J,a as ie,d as xe,b as Te}from"../chunks/index.esm2017.BMDGLfoS.js";import{g as ce}from"../chunks/entry.BRlZ4at3.js";import{f as we}from"../chunks/feather.DxikNGJQ.js";function de(r,e,o){const l=r.slice();return l[10]=e[o].pID,l[11]=e[o].name,l[12]=e[o].srp,l[13]=e[o].stocks,l[14]=e[o].cost,l}function ue(r){let e,o,l=r[10]+"",p,D,v,C=r[11]+"",k,g,M,q=r[12]+"",I,n,u,_=r[13]+"",E,y,w,O=r[14]+"",H,c,a,m,s,N='<i data-feather="edit" aria-hidden="true"></i>',U,x,R='<i data-feather="trash" aria-hidden="true"></i>',A,Y,W;function pe(){return r[7](r[10])}function me(){return r[8](r[10])}return{c(){e=h("tr"),o=h("td"),p=V(l),D=L(),v=h("td"),k=V(C),g=L(),M=h("td"),I=V(q),n=L(),u=h("td"),E=V(_),y=L(),w=h("td"),H=V(O),c=L(),a=h("td"),m=h("div"),s=h("button"),s.innerHTML=N,U=L(),x=h("button"),x.innerHTML=R,A=L(),this.h()},l(B){e=f(B,"TR",{class:!0});var d=T(e);o=f(d,"TD",{class:!0});var X=T(o);p=F(X,l),X.forEach(b),D=S(d),v=f(d,"TD",{class:!0});var Z=T(v);k=F(Z,C),Z.forEach(b),g=S(d),M=f(d,"TD",{class:!0});var Q=T(M);I=F(Q,q),Q.forEach(b),n=S(d),u=f(d,"TD",{class:!0});var ee=T(u);E=F(ee,_),ee.forEach(b),y=S(d),w=f(d,"TD",{class:!0});var te=T(w);H=F(te,O),te.forEach(b),c=S(d),a=f(d,"TD",{class:!0});var se=T(a);m=f(se,"DIV",{class:!0});var K=T(m);s=f(K,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),$(s)!=="svelte-1udin69"&&(s.innerHTML=N),U=S(K),x=f(K,"BUTTON",{class:!0,style:!0,"data-svelte-h":!0}),$(x)!=="svelte-1dlrsqq"&&(x.innerHTML=R),K.forEach(b),se.forEach(b),A=S(d),d.forEach(b),this.h()},h(){i(o,"class","border px-2 py-1"),i(v,"class","border px-2 py-1"),i(M,"class","border px-2 py-1 text-center"),i(u,"class","border px-2 py-1 text-center"),i(w,"class","border px-2 py-1 text-center"),i(s,"class","bg-yellow-500 text-white rounded-md flex items-center justify-center px-2 py-1 hover:bg-yellow-600 transition duration-200"),le(s,"min-width","40px"),i(x,"class","bg-red-500 text-white rounded-md flex items-center justify-center px-2 py-1 hover:bg-red-600 transition duration-200"),le(x,"min-width","40px"),i(m,"class","flex justify-center gap-2"),i(a,"class","border px-2 py-1 text-center"),i(e,"class","hover:bg-gray-200 transition duration-200 text-sm")},m(B,d){fe(B,e,d),t(e,o),t(o,p),t(e,D),t(e,v),t(v,k),t(e,g),t(e,M),t(M,I),t(e,n),t(e,u),t(u,E),t(e,y),t(e,w),t(w,H),t(e,c),t(e,a),t(a,m),t(m,s),t(m,U),t(m,x),t(e,A),Y||(W=[j(s,"click",pe),j(x,"click",me)],Y=!0)},p(B,d){r=B,d&2&&l!==(l=r[10]+"")&&P(p,l),d&2&&C!==(C=r[11]+"")&&P(k,C),d&2&&q!==(q=r[12]+"")&&P(I,q),d&2&&_!==(_=r[13]+"")&&P(E,_),d&2&&O!==(O=r[14]+"")&&P(H,O)},d(B){B&&b(e),Y=!1,he(W)}}}function Ie(r){let e,o,l,p,D,v,C=`<i data-feather="search" class="mr-1" aria-hidden="true"></i>
        Search`,k,g,M=`<i data-feather="plus" class="mr-1" aria-hidden="true"></i>
      Add Item`,q,I,n,u,_='<tr><th class="px-2 py-1 text-left text-sm" style="width: 200px;">PRODUCT ID</th> <th class="px-2 py-1 text-left text-sm">ITEM NAME</th> <th class="px-2 py-1 text-center text-sm" style="width: 150px;">SRP</th> <th class="px-2 py-1 text-center text-sm" style="width: 150px;">STOCKS</th> <th class="px-2 py-1 text-center text-sm" style="width: 150px;">COST</th> <th class="px-2 py-1 text-center text-sm" style="width: 200px;">ACTIONS</th></tr>',E,y,w,O,H=ne(r[1]),c=[];for(let a=0;a<H.length;a+=1)c[a]=ue(de(r,H,a));return{c(){e=h("div"),o=h("div"),l=h("div"),p=h("input"),D=L(),v=h("button"),v.innerHTML=C,k=L(),g=h("button"),g.innerHTML=M,q=L(),I=h("div"),n=h("table"),u=h("thead"),u.innerHTML=_,E=L(),y=h("tbody");for(let a=0;a<c.length;a+=1)c[a].c();this.h()},l(a){e=f(a,"DIV",{class:!0});var m=T(e);o=f(m,"DIV",{class:!0});var s=T(o);l=f(s,"DIV",{class:!0});var N=T(l);p=f(N,"INPUT",{type:!0,class:!0,placeholder:!0}),D=S(N),v=f(N,"BUTTON",{class:!0,"data-svelte-h":!0}),$(v)!=="svelte-14ogfwh"&&(v.innerHTML=C),N.forEach(b),k=S(s),g=f(s,"BUTTON",{class:!0,"data-svelte-h":!0}),$(g)!=="svelte-1vp1r5n"&&(g.innerHTML=M),s.forEach(b),q=S(m),I=f(m,"DIV",{class:!0});var U=T(I);n=f(U,"TABLE",{class:!0});var x=T(n);u=f(x,"THEAD",{class:!0,"data-svelte-h":!0}),$(u)!=="svelte-b908mi"&&(u.innerHTML=_),E=S(x),y=f(x,"TBODY",{class:!0});var R=T(y);for(let A=0;A<c.length;A+=1)c[A].l(R);R.forEach(b),x.forEach(b),U.forEach(b),m.forEach(b),this.h()},h(){i(p,"type","text"),i(p,"class","border border-gray-300 rounded-md p-2 flex-grow focus:outline-none focus:ring-2 focus:ring-blue-500"),i(p,"placeholder","Search items..."),i(v,"class","bg-blue-500 text-white rounded-md px-4 py-2 hover:bg-blue-600 transition duration-200 flex items-center"),i(l,"class","flex items-center gap-2 flex-grow"),i(g,"class","bg-green-500 text-white rounded-md px-4 py-2 hover:bg-green-600 transition duration-200 ml-4 flex items-center"),i(o,"class","flex items-center justify-between mb-4"),i(u,"class","bg-gradient-to-r from-blue-500 to-blue-500 text-white"),i(y,"class","bg-white"),i(n,"class","min-w-full table-auto border-collapse"),i(I,"class","overflow-x-auto border border-gray-300 rounded-lg"),i(e,"class","flex flex-col gap-4 p-4 h-full")},m(a,m){fe(a,e,m),t(e,o),t(o,l),t(l,p),ae(p,r[0]),t(l,D),t(l,v),t(o,k),t(o,g),t(e,q),t(e,I),t(I,n),t(n,u),t(n,E),t(n,y);for(let s=0;s<c.length;s+=1)c[s]&&c[s].m(y,null);w||(O=[j(p,"input",r[6]),j(p,"input",r[3]),j(v,"click",r[3]),j(g,"click",r[2])],w=!0)},p(a,[m]){if(m&1&&p.value!==a[0]&&ae(p,a[0]),m&50){H=ne(a[1]);let s;for(s=0;s<H.length;s+=1){const N=de(a,H,s);c[s]?c[s].p(N,m):(c[s]=ue(N),c[s].c(),c[s].m(y,null))}for(;s<c.length;s+=1)c[s].d(1);c.length=H.length}},i:re,o:re,d(a){a&&b(e),ge(c,a),w=!1,he(O)}}}function Ee(r,e,o){let l="",p=[];const D=async(n="")=>{try{const u=oe();let _=G(z(u,"Inventory"));n&&(_=G(z(u,"Inventory"),J("name",">=",n),J("name","<=",n+"ï£¿")));const E=await ie(_);o(1,p=E.docs.map(y=>({...y.data(),id:y.id})))}catch(u){console.error("Error fetching items:",u)}},v=()=>ce("/admin/inventory/additem"),C=()=>D(l),k=n=>ce(`/admin/inventory/updateitem?pID=${n}`),g=async n=>{if(confirm("Are you sure you want to delete this item?"))try{const _=oe(),E=z(_,"Inventory"),y=G(E,J("pID","==",n)),w=await ie(y);if(w.empty)console.log("No item found with pID:",n);else{const O=xe(_,"Inventory",w.docs[0].id);await Te(O),console.log("Item deleted:",n),await D(),alert("Item deleted successfully")}}catch(_){console.error("Error deleting item:",_)}};_e(()=>{D(),we.replace()});function M(){l=this.value,o(0,l)}return[l,p,v,C,k,g,M,n=>k(n),n=>g(n)]}class Ce extends ye{constructor(e){super(),be(this,e,Ee,Ie,ve,{})}}export{Ce as component};
